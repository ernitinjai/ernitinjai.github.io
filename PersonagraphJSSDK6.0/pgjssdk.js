!function t(e,i,n){function r(s,o){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return r(i||t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i.IVPAIDAdUnit=function(){function t(){n(this,t)}return r(t,[{key:"handshakeVersion",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:"initAd",value:function(t,e,i,n){arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&void 0!==arguments[6]&&arguments[6]}},{key:"resizeAd",value:function(t,e,i){arguments.length>3&&void 0!==arguments[3]&&arguments[3]}},{key:"startAd",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"stopAd",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"pauseAd",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"resumeAd",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"expandAd",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"collapseAd",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"skipAd",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"getAdLinear",value:function(t){}},{key:"getAdWidth",value:function(t){}},{key:"getAdHeight",value:function(t){}},{key:"getAdExpanded",value:function(t){}},{key:"getAdSkippableState",value:function(t){}},{key:"getAdRemainingTime",value:function(t){}},{key:"getAdDuration",value:function(t){}},{key:"setAdVolume",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:"getAdVolume",value:function(t){}},{key:"getAdCompanions",value:function(t){}},{key:"getAdIcons",value:function(t){}}]),t}();Object.defineProperty(a,"EVENTS",{writable:!1,configurable:!1,value:["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"]})},{}],2:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":s(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":s(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=t("./IVPAIDAdUnit").IVPAIDAdUnit,d=Object.getOwnPropertyNames(l.prototype).filter(function(t){return-1===["constructor"].indexOf(t)});i.VPAIDAdUnit=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i._destroyed=!1,i._flash=t,i}return a(e,t),o(e,[{key:"_destroy",value:function(){var t=this;this._destroyed=!0,d.forEach(function(e){t._flash.removeCallbackByMethodName(e)}),l.EVENTS.forEach(function(e){t._flash.offEvent(e)}),this._flash=null}},{key:"isDestroyed",value:function(){return this._destroyed}},{key:"on",value:function(t,e){this._flash.on(t,e)}},{key:"off",value:function(t,e){this._flash.off(t,e)}},{key:"handshakeVersion",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2.0",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this._flash.callFlashMethod("handshakeVersion",[t],e)}},{key:"initAd",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{AdParameters:""},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{flashVars:""},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;this._flash.setSize(t,e),r=r||{AdParameters:""},a=a||{flashVars:""},this._flash.callFlashMethod("initAd",[this._flash.getWidth(),this._flash.getHeight(),i,n,r.AdParameters||"",a.flashVars||""],s)}},{key:"resizeAd",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this._flash.setSize(t,e),this._flash.callFlashMethod("resizeAd",[this._flash.getWidth(),this._flash.getHeight(),i],n)}},{key:"startAd",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash.callFlashMethod("startAd",[],t)}},{key:"stopAd",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash.callFlashMethod("stopAd",[],t)}},{key:"pauseAd",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash.callFlashMethod("pauseAd",[],t)}},{key:"resumeAd",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash.callFlashMethod("resumeAd",[],t)}},{key:"expandAd",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash.callFlashMethod("expandAd",[],t)}},{key:"collapseAd",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash.callFlashMethod("collapseAd",[],t)}},{key:"skipAd",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash.callFlashMethod("skipAd",[],t)}},{key:"getAdLinear",value:function(t){this._flash.callFlashMethod("getAdLinear",[],t)}},{key:"getAdWidth",value:function(t){this._flash.callFlashMethod("getAdWidth",[],t)}},{key:"getAdHeight",value:function(t){this._flash.callFlashMethod("getAdHeight",[],t)}},{key:"getAdExpanded",value:function(t){this._flash.callFlashMethod("getAdExpanded",[],t)}},{key:"getAdSkippableState",value:function(t){this._flash.callFlashMethod("getAdSkippableState",[],t)}},{key:"getAdRemainingTime",value:function(t){this._flash.callFlashMethod("getAdRemainingTime",[],t)}},{key:"getAdDuration",value:function(t){this._flash.callFlashMethod("getAdDuration",[],t)}},{key:"setAdVolume",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this._flash.callFlashMethod("setAdVolume",[t],e)}},{key:"getAdVolume",value:function(t){this._flash.callFlashMethod("getAdVolume",[],t)}},{key:"getAdCompanions",value:function(t){this._flash.callFlashMethod("getAdCompanions",[],t)}},{key:"getAdIcons",value:function(t){this._flash.callFlashMethod("getAdIcons",[],t)}}]),e}(l)},{"./IVPAIDAdUnit":1}],3:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){if(this._destroyed)throw new Error("VPAIDFlashToJS is destroyed!")}function a(){this._loadLater&&(this.loadAdUnit(this._loadLater.url,this._loadLater.callback),delete this._loadLater)}function s(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object.defineProperty(m,t,{writable:i,configurable:!1,value:e})}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=t("swfobject"),d=t("./jsFlashBridge").JSFlashBridge,u=t("./VPAIDAdUnit").VPAIDAdUnit,c=t("./utils").noop,h=t("./utils").callbackTimeout,p=t("./utils").isPositiveInt,f=t("./utils").createElementWithID,v=t("./utils").unique("vpaid"),g=t("./flashTester.js").createFlashTester,y="10.1.0",A={isSupported:function(){return!0}},m=function(){function t(e,i){function r(t){return setTimeout(function(){i(new Error(t))},0),A}var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{data:"VPAIDFlash.swf",width:800,height:400},o=this,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{wmode:"transparent",salign:"tl",align:"left",allowScriptAccess:"always",scale:"noScale",allowFullScreen:"true",quality:"high"},g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{debug:!1,timeout:1e4};n(this,t);var A=this;if(this._vpaidParentEl=e,this._flashID=v(),this._destroyed=!1,i=i||c,s.width=p(s.width,800),s.height=p(s.height,400),f(e,this._flashID,!0),u.movie=s.data,u.FlashVars="flashid="+this._flashID+"&handler="+d.VPAID_FLASH_HANDLER+"&debug="+g.debug+"&salign="+u.salign,!t.isSupported())return r("user don't support flash or doesn't have the minimum required version of flash "+y);if(this.el=l.createSWF(s,u,this._flashID),!this.el)return r("swfobject failed to create object in element");var m=h(g.timeout,function(t,e){a.call(o),i(t,e)},function(){i("vpaid flash load timeout "+g.timeout)});this._flash=new d(this.el,s.data,this._flashID,s.width,s.height,m)}return o(t,[{key:"destroy",value:function(){this._destroyAdUnit(),this._flash&&(this._flash.destroy(),this._flash=null),this.el=null,this._destroyed=!0}},{key:"isDestroyed",value:function(){return this._destroyed}},{key:"_destroyAdUnit",value:function(){delete this._loadLater,this._adUnitLoad&&(this._adUnitLoad=null,this._flash.removeCallback(this._adUnitLoad)),this._adUnit&&(this._adUnit._destroy(),this._adUnit=null)}},{key:"loadAdUnit",value:function(t,e){var i=this;r.call(this),this._adUnit&&this._destroyAdUnit(),this._flash.isReady()?(this._adUnitLoad=function(t,n){t||(i._adUnit=new u(i._flash)),i._adUnitLoad=null,e(t,i._adUnit)},this._flash.callFlashMethod("loadAdUnit",[t],this._adUnitLoad)):this._loadLater={url:t,callback:e}}},{key:"unloadAdUnit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;r.call(this),this._destroyAdUnit(),this._flash.callFlashMethod("unloadAdUnit",[],t)}},{key:"getFlashID",value:function(){return r.call(this),this._flash.getFlashID()}},{key:"getFlashURL",value:function(){return r.call(this),this._flash.getFlashURL()}}]),t}();s("isSupported",function(){return l.hasFlashPlayerVersion(y)&&A.isSupported()},!0),s("runFlashTest",function(t){A=g(document.body,t)}),m.swfobject=l,e.exports=m},{"./VPAIDAdUnit":2,"./flashTester.js":4,"./jsFlashBridge":5,"./utils":8,swfobject:14}],4:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("swfobject"),s="vpaid_video_flash_tester",o="vpaid_video_flash_tester_el",l=t("./jsFlashBridge").JSFlashBridge,d=t("./utils"),u=t("./registry").MultipleValuesRegistry,c=function(){function t(e){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{data:"VPAIDFlash.swf",width:800,height:400};n(this,t),this.parentEl=d.createElementWithID(e,o),d.hideFlashEl(this.parentEl);var s={};s.movie=r.data,s.FlashVars="flashid="+o+"&handler="+l.VPAID_FLASH_HANDLER,s.allowScriptAccess="always",this.el=a.createSWF(r,s,o),this._handlers=new u,this._isSupported=!1,this.el&&(d.hideFlashEl(this.el),this._flash=new l(this.el,r.data,o,r.width,r.height,function(){i._isSupported=!0,i._handlers.get("change").forEach(function(t){setTimeout(function(){t("change",!0)},0)})}))}return r(t,[{key:"isSupported",value:function(){return this._isSupported}},{key:"on",value:function(t,e){this._handlers.add(t,e)}}]),t}();i.createFlashTester=function(t,e){return window[s]||(window[s]=new c(t,e)),window[s]}},{"./jsFlashBridge":5,"./registry":7,"./utils":8,swfobject:14}],5:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,i){var n=this;setTimeout(function(){var r=n._callbacks.get(t);r&&(n._callbacks.remove(t),r(e,i))},0)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=t("./utils").unique,o=t("./utils").isPositiveInt,l=t("./utils").stringEndsWith,d=t("./registry").SingleValueRegistry,u=t("./registry").MultipleValuesRegistry,c=t("./jsFlashBridgeRegistry"),h=i.JSFlashBridge=function(){function t(e,i,r,a,o,l){n(this,t),this._el=e,this._flashID=r,this._flashURL=i,this._width=a,this._height=o,this._handlers=new u,this._callbacks=new d,this._uniqueMethodIdentifier=s(this._flashID),this._ready=!1,this._handShakeHandler=l,c.addInstance(this._flashID,this)}return a(t,[{key:"on",value:function(t,e){this._handlers.add(t,e)}},{key:"off",value:function(t,e){return this._handlers.remove(t,e)}},{key:"offEvent",value:function(t){return this._handlers.removeByKey(t)}},{key:"offAll",value:function(){return this._handlers.removeAll()}},{key:"callFlashMethod",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n="";i&&(n=this._uniqueMethodIdentifier()+"_"+t,this._callbacks.add(n,i));try{this._el[t]([n].concat(e))}catch(t){i?r.call(this,n,t):this._trigger("AdError",t)}}},{key:"removeCallback",value:function(t){return this._callbacks.removeByValue(t)}},{key:"removeCallbackByMethodName",value:function(t){var e=this;this._callbacks.filterKeys(function(e){return l(e,t)}).forEach(function(t){e._callbacks.remove(t)})}},{key:"removeAllCallbacks",value:function(){return this._callbacks.removeAll()}},{key:"_trigger",value:function(t,e){var i=this;this._handlers.get(t).forEach(function(n){"AdClickThru"===t?n(e):setTimeout(function(){i._handlers.get(t).length>0&&n(e)},0)})}},{key:"_callCallback",value:function(t,e,i,n){this._callbacks.get(e)?r.call(this,e,i,n):i&&""===e&&this.trigger("AdError",i)}},{key:"_handShake",value:function(t,e){this._ready=!0,this._handShakeHandler&&(this._handShakeHandler(t,e),delete this._handShakeHandler)}},{key:"getSize",value:function(){return{width:this._width,height:this._height}}},{key:"setSize",value:function(t,e){this._width=o(t,this._width),this._height=o(e,this._height),this._el.setAttribute("width",this._width),this._el.setAttribute("height",this._height)}},{key:"getWidth",value:function(){return this._width}},{key:"setWidth",value:function(t){this.setSize(t,this._height)}},{key:"getHeight",value:function(){return this._height}},{key:"setHeight",value:function(t){this.setSize(this._width,t)}},{key:"getFlashID",value:function(){return this._flashID}},{key:"getFlashURL",value:function(){return this._flashURL}},{key:"isReady",value:function(){return this._ready}},{key:"destroy",value:function(){this.offAll(),this.removeAllCallbacks(),c.removeInstanceByID(this._flashID),this._el.parentElement&&this._el.parentElement.removeChild(this._el)}}]),t}();Object.defineProperty(h,"VPAID_FLASH_HANDLER",{writable:!1,configurable:!1,value:"vpaid_video_flash_handler"}),window.vpaid_video_flash_handler=function(t,e,i,n,r,a){var s=c.getInstanceByID(t);s&&("handShake"===i?s._handShake(r,a):"event"!==e?s._callCallback(i,n,r,a):s._trigger(i,a))}},{"./jsFlashBridgeRegistry":6,"./registry":7,"./utils":8}],6:[function(t,e,i){"use strict";var n=new(0,t("./registry").SingleValueRegistry),r={};Object.defineProperty(r,"addInstance",{writable:!1,configurable:!1,value:function(t,e){n.add(t,e)}}),Object.defineProperty(r,"getInstanceByID",{writable:!1,configurable:!1,value:function(t){return n.get(t)}}),Object.defineProperty(r,"removeInstanceByID",{writable:!1,configurable:!1,value:function(t){return n.remove(t)}}),e.exports=r},{"./registry":7}],7:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i.MultipleValuesRegistry=function(){function t(){n(this,t),this._registries={}}return r(t,[{key:"add",value:function(t,e){this._registries[t]||(this._registries[t]=[]),-1===this._registries[t].indexOf(e)&&this._registries[t].push(e)}},{key:"get",value:function(t){return this._registries[t]||[]}},{key:"filterKeys",value:function(t){return Object.keys(this._registries).filter(t)}},{key:"findByValue",value:function(t){var e=this;return Object.keys(this._registries).filter(function(i){return-1!==e._registries[i].indexOf(t)})}},{key:"remove",value:function(t,e){if(this._registries[t]){var i=this._registries[t].indexOf(e);if(!(i<0))return this._registries[t].splice(i,1)}}},{key:"removeByKey",value:function(t){var e=this._registries[t];return delete this._registries[t],e}},{key:"removeByValue",value:function(t){var e=this;return this.findByValue(t).map(function(i){return e.remove(i,t)})}},{key:"removeAll",value:function(){var t=this._registries;return this._registries={},t}},{key:"size",value:function(){return Object.keys(this._registries).length}}]),t}(),i.SingleValueRegistry=function(){function t(){n(this,t),this._registries={}}return r(t,[{key:"add",value:function(t,e){this._registries[t]=e}},{key:"get",value:function(t){return this._registries[t]}},{key:"filterKeys",value:function(t){return Object.keys(this._registries).filter(t)}},{key:"findByValue",value:function(t){var e=this;return Object.keys(this._registries).filter(function(i){return e._registries[i]===t})}},{key:"remove",value:function(t){var e=this._registries[t];return delete this._registries[t],e}},{key:"removeByValue",value:function(t){var e=this;return this.findByValue(t).map(function(t){return e.remove(t)})}},{key:"removeAll",value:function(){var t=this._registries;return this._registries={},t}},{key:"size",value:function(){return Object.keys(this._registries).length}}]),t}()},{}],8:[function(t,e,i){"use strict";function n(t){var e=-1;return function(i){return t+"_"+ ++e}}function r(){}function a(t,e,i){var n=setTimeout(function(){e=r,i()},t);return function(){clearTimeout(n),e.apply(this,arguments)}}function s(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");return n.id=e,i&&(t.innerHTML=""),t.appendChild(n),n}function o(t,e){return!isNaN(parseFloat(t))&&isFinite(t)&&t>0?t:e}function l(t,e){return u.call(t,e)}function d(t){t.style.position="absolute",t.style.left="-1px",t.style.top="-1px",t.style.width="1px",t.style.height="1px"}Object.defineProperty(i,"__esModule",{value:!0}),i.unique=n,i.noop=r,i.callbackTimeout=a,i.createElementWithID=s,i.isPositiveInt=o,i.stringEndsWith=l,i.hideFlashEl=d;var u=function(){return String.prototype.endsWith?String.prototype.endsWith:function(t,e){var i=this.toString();(void 0===e||e>i.length)&&(e=i.length),e-=t.length;var n=i.indexOf(t,e);return-1!==n&&n===e}}()},{}],9:[function(t,e,i){"use strict";function n(t,e,i){}function r(t,e,i){Object.defineProperty(t,e,{writable:!1,configurable:!1,value:i})}var a=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],s=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],o=["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"],l=["setAdVolume"];n.prototype.handshakeVersion=function(t,e){},n.prototype.initAd=function(t,e,i,n,r,a,s){},n.prototype.startAd=function(t){},n.prototype.stopAd=function(t){},n.prototype.skipAd=function(t){},n.prototype.resizeAd=function(t,e,i,n){},n.prototype.pauseAd=function(t){},n.prototype.resumeAd=function(t){},n.prototype.expandAd=function(t){},n.prototype.collapseAd=function(t){},n.prototype.subscribe=function(t,e,i){},n.prototype.unsubscribe=function(t,e){},n.prototype.getAdLinear=function(t){},n.prototype.getAdWidth=function(t){},n.prototype.getAdHeight=function(t){},n.prototype.getAdExpanded=function(t){},n.prototype.getAdSkippableState=function(t){},n.prototype.getAdRemainingTime=function(t){},n.prototype.getAdDuration=function(t){},n.prototype.getAdVolume=function(t){},n.prototype.getAdCompanions=function(t){},n.prototype.getAdIcons=function(t){},n.prototype.setAdVolume=function(t,e){},r(n,"METHODS",a),r(n,"GETTERS",o),r(n,"SETTERS",l),r(n,"EVENTS",s);var d=a.filter(function(t){return-1===["skipAd"].indexOf(t)});r(n,"checkVPAIDInterface",function(t){return d.every(function(e){return"function"==typeof t[e]})}),e.exports=n},{}],10:[function(t,e,i){"use strict";function n(t,e,i,n){this._isValid=u(t),this._isValid&&(this._creative=t,this._el=e,this._videoEl=i,this._iframe=n,this._subscribers=new d,c.setFullSizeStyle(e),r.call(this))}function r(){if(f.forEach(function(t){this._creative.subscribe(s.bind(this,t),t)}.bind(this)),this._creative.subscribe(a.bind(this),p),this._videoEl){var t=this._iframe.contentDocument.documentElement,e=this._videoEl;t.addEventListener("click",function(i){i.target===t&&e.click()})}}function a(t,e,i){this._subscribers.triggerSync(p,{url:t,id:e,playerHandles:i})}function s(t){this._subscribers.trigger(t,Array.prototype.slice(arguments,1))}function o(t,e,i,n){t?t(i,n):i&&e.trigger(h,i)}var l=t("./IVPAIDAdUnit"),d=t("./subscriber"),u=l.checkVPAIDInterface,c=t("./utils"),h=(l.METHODS,"AdError"),p="AdClickThru",f=l.EVENTS.filter(function(t){return t!=p});n.prototype=Object.create(l.prototype),n.prototype.isValidVPAIDAd=function(){return this._isValid},l.METHODS.forEach(function(t){-1===["subscribe","unsubscribe","initAd"].indexOf(t)&&(n.prototype[t]=function(){var e=l.prototype[t].length,i=Array.prototype.slice.call(arguments),n=e===i.length?i.pop():void 0;setTimeout(function(){var e,r=null;try{e=this._creative[t].apply(this._creative,i)}catch(t){r=t}o(n,this._subscribers,r,e)}.bind(this),0)})}),n.prototype.initAd=function(t,e,i,n,r,a,s){r=r||{},a=c.extend({slot:this._el,videoSlot:this._videoEl},a||{}),setTimeout(function(){var l;try{this._creative.initAd(t,e,i,n,r,a)}catch(t){l=t}o(s,this._subscribers,l)}.bind(this),0)},n.prototype.subscribe=function(t,e,i){this._subscribers.subscribe(e,t,i)},n.prototype.unsubscribe=function(t,e){this._subscribers.unsubscribe(e,t)},n.prototype.on=n.prototype.subscribe,n.prototype.off=n.prototype.unsubscribe,l.GETTERS.forEach(function(t){n.prototype[t]=function(e){setTimeout(function(){var i,n=null;try{i=this._creative[t]()}catch(t){n=t}o(e,this._subscribers,n,i)}.bind(this),0)}}),n.prototype.setAdVolume=function(t,e){setTimeout(function(){var i,n=null;try{this._creative.setAdVolume(t),i=this._creative.getAdVolume()}catch(t){n=t}n||(n=c.validate(i===t,"failed to apply volume: "+t)),o(e,this._subscribers,n,i)}.bind(this),0)},n.prototype._destroy=function(){this.stopAd(),this._subscribers.unsubscribeAll()},e.exports=n},{"./IVPAIDAdUnit":9,"./subscriber":12,"./utils":13}],11:[function(t,e,i){"use strict";function n(t,e,i,n){i=i||{},this._id=p(),this._destroyed=!1,this._frameContainer=h.createElementInEl(t,"div"),this._videoEl=e,this._vpaidOptions=n||{timeout:1e4},this._templateConfig={template:i.template||v,extraOptions:i.extraOptions||{}}}function r(t){var e=this[t];e&&(e.remove(),delete this[t])}function a(){o.call(this),delete this._adUnit}function s(){o.call(this),d.call(this)}function o(){r.call(this,"_frame"),l.call(this)}function l(){this._onLoad&&(window.removeEventListener("message",this._onLoad),h.clearCallbackTimeout(this._onLoad),delete this._onLoad)}function d(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}function u(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!")}function c(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}var h=t("./utils"),p=h.unique("vpaidIframe"),f=t("./VPAIDAdUnit"),v='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"><\/script><script type="text/javascript">window.parent.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', \'{{origin}}\');<\/script></body></html>',g="AdStopped";n.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,s.call(this))},n.prototype.isDestroyed=function(){return this._destroyed},n.prototype.loadAdUnit=function(t,e){function i(t){if(t.origin===c()&&JSON.parse(t.data).id===r.getID()){var i,n,s;if(r._frame.contentWindow?(s=r._frame.contentWindow.getVPAIDAd,n=h.validate("function"==typeof s,"the ad didn't return a function to create an ad")):n="the iframe is not anymore in the DOM tree",!n){var o=r._frame.contentWindow.document.querySelector(".ad-element");(i=new f(s(),o,r._videoEl,r._frame)).subscribe(g,a.bind(r)),n=h.validate(i.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")}return r._adUnit=i,l.call(r),e(n,n?null:i),!0}}function n(){e("timeout",null)}u.call(this),s.call(this);var r=this,o=h.createIframeWithContent(this._frameContainer,this._templateConfig.template,h.extend({iframeURL_JS:t,iframeID:this.getID(),origin:c()},this._templateConfig.extraOptions));this._frame=o,this._onLoad=h.callbackTimeout(this._vpaidOptions.timeout,i.bind(this),n.bind(this)),window.addEventListener("message",this._onLoad)},n.prototype.unloadAdUnit=function(){s.call(this)},n.prototype.getID=function(){return this._id},e.exports=n},{"./VPAIDAdUnit":10,"./utils":13}],12:[function(t,e,i){"use strict";function n(){this._subscribers={}}n.prototype.subscribe=function(t,e,i){this.isHandlerAttached(t,e)||this.get(e).push({handler:t,context:i,eventName:e})},n.prototype.unsubscribe=function(t,e){this._subscribers[e]=this.get(e).filter(function(e){return t!==e.handler})},n.prototype.unsubscribeAll=function(){this._subscribers={}},n.prototype.trigger=function(t,e){var i=this;this.get(t).concat(this.get("*")).forEach(function(t){setTimeout(function(){i.isHandlerAttached(t.handler,t.eventName)&&t.handler.call(t.context,e)},0)})},n.prototype.triggerSync=function(t,e){this.get(t).concat(this.get("*")).forEach(function(t){t.handler.call(t.context,e)})},n.prototype.get=function(t){return this._subscribers[t]||(this._subscribers[t]=[]),this._subscribers[t]},n.prototype.isHandlerAttached=function(t,e){return this.get(e).some(function(e){return t===e.handler})},e.exports=n},{}],13:[function(t,e,i){"use strict";function n(){}function r(t,e){return t?null:new Error(e)}function a(t){var e=v[t];e&&(clearTimeout(e),delete v[t])}function s(t,e,i){var r,s;return s=setTimeout(function(){e=n,delete s[r],i()},t),r=function(){e.apply(this,arguments)&&a(r)},v[r]=s,r}function o(t,e,i){var n=document.createElement(e);return i&&(n.id=i),t.appendChild(n),n}function l(t,e,i){var n=d(t,null,i.zIndex);if(h(n,c(e,i)))return n}function d(t,e,i){var n=document.createElement("iframe");return n.src=e||"about:blank",n.marginWidth="0",n.marginHeight="0",n.frameBorder="0",n.width="100%",n.height="100%",u(n),i&&(n.style.zIndex=i),n.setAttribute("SCROLLING","NO"),t.innerHTML="",t.appendChild(n),n}function u(t){t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.margin="0px",t.style.padding="0px",t.style.border="none",t.style.width="100%",t.style.height="100%"}function c(t,e){return Object.keys(e).forEach(function(i){var n="object"==typeof n?JSON.stringify(e[i]):e[i];t=t.replace(new RegExp("{{"+i+"}}","g"),n)}),t}function h(t,e){var i=t.contentWindow&&t.contentWindow.document;return!!i&&(i.write(e),!0)}function p(t,e){return Object.keys(e).forEach(function(i){t[i]=e[i]}),t}function f(t){var e=-1;return function(){return t+"_"+ ++e}}var v={};e.exports={noop:n,validate:r,clearCallbackTimeout:a,callbackTimeout:s,createElementInEl:o,createIframeWithContent:l,createIframe:d,setFullSizeStyle:u,simpleTemplate:c,setIframeContent:h,extend:p,unique:f}},{}],14:[function(t,e,i){!function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():t.swfobject=i()}(this,function(){function t(){if(!B&&document.getElementsByTagName("body")[0]){try{var t,e=y("span");e.style.display="none",(t=F.getElementsByTagName("body")[0].appendChild(e)).parentNode.removeChild(t),t=null,e=null}catch(t){return}B=!0;for(var i=x.length,n=0;n<i;n++)x[n]()}}function e(t){B?t():x[x.length]=t}function i(t){if(typeof R.addEventListener!==L)R.addEventListener("load",t,!1);else if(typeof F.addEventListener!==L)F.addEventListener("load",t,!1);else if(typeof R.attachEvent!==L)m(R,"onload",t);else if("function"==typeof R.onload){var e=R.onload;R.onload=function(){e(),t()}}else R.onload=t}function n(){var t=F.getElementsByTagName("body")[0],e=y(P);e.setAttribute("style","visibility: hidden;"),e.setAttribute("type",V);var i=t.appendChild(e);if(i){var n=0;!function a(){if(typeof i.GetVariable!==L)try{var s=i.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),Q.pv=[A(s[0]),A(s[1]),A(s[2])])}catch(t){Q.pv=[8,0,0]}else if(n<10)return n++,void setTimeout(a,10);t.removeChild(e),i=null,r()}()}else r()}function r(){var t=N.length;if(t>0)for(var e=0;e<t;e++){var i=N[e].id,n=N[e].callbackFn,r={success:!1,id:i};if(Q.pv[0]>0){var d=g(i);if(d)if(!T(N[e].swfVersion)||Q.wk&&Q.wk<312)if(N[e].expressInstall&&s()){var u={};u.data=N[e].expressInstall,u.width=d.getAttribute("width")||"0",u.height=d.getAttribute("height")||"0",d.getAttribute("class")&&(u.styleclass=d.getAttribute("class")),d.getAttribute("align")&&(u.align=d.getAttribute("align"));for(var c={},h=d.getElementsByTagName("param"),p=h.length,f=0;f<p;f++)"movie"!==h[f].getAttribute("name").toLowerCase()&&(c[h[f].getAttribute("name")]=h[f].getAttribute("value"));o(u,c,i,n)}else l(d),n&&n(r);else b(i,!0),n&&(r.success=!0,r.ref=a(i),r.id=i,n(r))}else if(b(i,!0),n){var v=a(i);v&&typeof v.SetVariable!==L&&(r.success=!0,r.ref=v,r.id=v.id),n(r)}}}function a(t){var e=null,i=g(t);return i&&"OBJECT"===i.nodeName.toUpperCase()&&(e=typeof i.SetVariable!==L?i:i.getElementsByTagName(P)[0]||i),e}function s(){return!W&&T("6.0.65")&&(Q.win||Q.mac)&&!(Q.wk&&Q.wk<312)}function o(t,e,i,n){var r=g(i);if(i=v(i),W=!0,C=n||null,S={success:!1,id:i},r){"OBJECT"===r.nodeName.toUpperCase()?(k=d(r),_=null):(k=r,_=i),t.id=M,(typeof t.width===L||!/%$/.test(t.width)&&A(t.width)<310)&&(t.width="310"),(typeof t.height===L||!/%$/.test(t.height)&&A(t.height)<137)&&(t.height="137");var a=Q.ie?"ActiveX":"PlugIn",s="MMredirectURL="+encodeURIComponent(R.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+a+"&MMdoctitle="+encodeURIComponent(F.title.slice(0,47)+" - Flash Player Installation");if(typeof e.flashvars!==L?e.flashvars+="&"+s:e.flashvars=s,Q.ie&&4!=r.readyState){var o=y("div");i+="SWFObjectNew",o.setAttribute("id",i),r.parentNode.insertBefore(o,r),r.style.display="none",p(r)}c(t,e,i)}}function l(t){if(Q.ie&&4!=t.readyState){t.style.display="none";var e=y("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(d(t),e),p(t)}else t.parentNode.replaceChild(d(t),t)}function d(t){var e=y("div");if(Q.win&&Q.ie)e.innerHTML=t.innerHTML;else{var i=t.getElementsByTagName(P)[0];if(i){var n=i.childNodes;if(n)for(var r=n.length,a=0;a<r;a++)1==n[a].nodeType&&"PARAM"===n[a].nodeName||8==n[a].nodeType||e.appendChild(n[a].cloneNode(!0))}}return e}function u(t,e){var i=y("div");return i.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+t+"'>"+e+"</object>",i.firstChild}function c(t,e,i){var n,r=g(i);if(i=v(i),Q.wk&&Q.wk<312)return n;if(r){var a,s,o,l=y(Q.ie?"div":P);typeof t.id===L&&(t.id=i);for(o in e)e.hasOwnProperty(o)&&"movie"!==o.toLowerCase()&&h(l,o,e[o]);Q.ie&&(l=u(t.data,l.innerHTML));for(a in t)t.hasOwnProperty(a)&&("styleclass"===(s=a.toLowerCase())?l.setAttribute("class",t[a]):"classid"!==s&&"data"!==s&&l.setAttribute(a,t[a]));Q.ie?j[j.length]=t.id:(l.setAttribute("type",V),l.setAttribute("data",t.data)),r.parentNode.replaceChild(l,r),n=l}return n}function h(t,e,i){var n=y("param");n.setAttribute("name",e),n.setAttribute("value",i),t.appendChild(n)}function p(t){var e=g(t);e&&"OBJECT"===e.nodeName.toUpperCase()&&(Q.ie?(e.style.display="none",function t(){if(4==e.readyState){for(var i in e)"function"==typeof e[i]&&(e[i]=null);e.parentNode.removeChild(e)}else setTimeout(t,10)}()):e.parentNode.removeChild(e))}function f(t){return t&&t.nodeType&&1===t.nodeType}function v(t){return f(t)?t.id:t}function g(t){if(f(t))return t;var e=null;try{e=F.getElementById(t)}catch(t){}return e}function y(t){return F.createElement(t)}function A(t){return parseInt(t,10)}function m(t,e,i){t.attachEvent(e,i),H[H.length]=[t,e,i]}function T(t){t+="";var e=Q.pv,i=t.split(".");return i[0]=A(i[0]),i[1]=A(i[1])||0,i[2]=A(i[2])||0,e[0]>i[0]||e[0]==i[0]&&e[1]>i[1]||e[0]==i[0]&&e[1]==i[1]&&e[2]>=i[2]}function E(t,e,i,n){var r=F.getElementsByTagName("head")[0];if(r){var a="string"==typeof i?i:"screen";if(n&&(D=null,I=null),!D||I!=a){var s=y("style");s.setAttribute("type","text/css"),s.setAttribute("media",a),D=r.appendChild(s),Q.ie&&typeof F.styleSheets!==L&&F.styleSheets.length>0&&(D=F.styleSheets[F.styleSheets.length-1]),I=a}D&&(typeof D.addRule!==L?D.addRule(t,e):typeof F.createTextNode!==L&&D.appendChild(F.createTextNode(t+" {"+e+"}")))}}function b(t,e){if(z){var i=e?"visible":"hidden",n=g(t);B&&n?n.style.visibility=i:"string"==typeof t&&E("#"+t,"visibility:"+i)}}function w(t){return null!==/[\\\"<>\.;]/.exec(t)&&typeof encodeURIComponent!==L?encodeURIComponent(t):t}var k,_,C,S,D,I,L="undefined",P="object",V="application/x-shockwave-flash",M="SWFObjectExprInst",R=window,F=document,U=navigator,O=!1,x=[],N=[],j=[],H=[],B=!1,W=!1,z=!0,q=!1,Q=function(){var t=typeof F.getElementById!==L&&typeof F.getElementsByTagName!==L&&typeof F.createElement!==L,e=U.userAgent.toLowerCase(),i=U.platform.toLowerCase(),n=/win/.test(i?i:e),r=/mac/.test(i?i:e),a=!!/webkit/.test(e)&&parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),s="Microsoft Internet Explorer"===U.appName,o=[0,0,0],l=null;if(typeof U.plugins!==L&&typeof U.plugins["Shockwave Flash"]===P)(l=U.plugins["Shockwave Flash"].description)&&typeof U.mimeTypes!==L&&U.mimeTypes[V]&&U.mimeTypes[V].enabledPlugin&&(O=!0,s=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),o[0]=A(l.replace(/^(.*)\..*$/,"$1")),o[1]=A(l.replace(/^.*\.(.*)\s.*$/,"$1")),o[2]=/[a-zA-Z]/.test(l)?A(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof R.ActiveXObject!==L)try{var d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");d&&(l=d.GetVariable("$version"))&&(s=!0,o=[A((l=l.split(" ")[1].split(","))[0]),A(l[1]),A(l[2])])}catch(t){}return{w3:t,pv:o,wk:a,ie:s,win:n,mac:r}}();!function(){Q.w3&&((typeof F.readyState!==L&&("complete"===F.readyState||"interactive"===F.readyState)||typeof F.readyState===L&&(F.getElementsByTagName("body")[0]||F.body))&&t(),B||(typeof F.addEventListener!==L&&F.addEventListener("DOMContentLoaded",t,!1),Q.ie&&(F.attachEvent("onreadystatechange",function e(){"complete"===F.readyState&&(F.detachEvent("onreadystatechange",e),t())}),R==top&&function e(){if(!B){try{F.documentElement.doScroll("left")}catch(t){return void setTimeout(e,0)}t()}}()),Q.wk&&function e(){B||(/loaded|complete/.test(F.readyState)?t():setTimeout(e,0))}()))}();x[0]=function(){O?n():r()};!function(){Q.ie&&window.attachEvent("onunload",function(){for(var t=H.length,e=0;e<t;e++)H[e][0].detachEvent(H[e][1],H[e][2]);for(var i=j.length,n=0;n<i;n++)p(j[n]);for(var r in Q)Q[r]=null;Q=null;for(var a in swfobject)swfobject[a]=null;swfobject=null})}();return{registerObject:function(t,e,i,n){if(Q.w3&&t&&e){var r={};r.id=t,r.swfVersion=e,r.expressInstall=i,r.callbackFn=n,N[N.length]=r,b(t,!1)}else n&&n({success:!1,id:t})},getObjectById:function(t){if(Q.w3)return a(t)},embedSWF:function(t,i,n,r,a,l,d,u,h,p){var f=v(i),g={success:!1,id:f};Q.w3&&!(Q.wk&&Q.wk<312)&&t&&i&&n&&r&&a?(b(f,!1),e(function(){n+="",r+="";var e={};if(h&&typeof h===P)for(var v in h)e[v]=h[v];e.data=t,e.width=n,e.height=r;var y={};if(u&&typeof u===P)for(var A in u)y[A]=u[A];if(d&&typeof d===P)for(var m in d)if(d.hasOwnProperty(m)){var E=q?encodeURIComponent(m):m,w=q?encodeURIComponent(d[m]):d[m];typeof y.flashvars!==L?y.flashvars+="&"+E+"="+w:y.flashvars=E+"="+w}if(T(a)){var k=c(e,y,i);e.id==f&&b(f,!0),g.success=!0,g.ref=k,g.id=k.id}else{if(l&&s())return e.data=l,void o(e,y,i,p);b(f,!0)}p&&p(g)})):p&&p(g)},switchOffAutoHideShow:function(){z=!1},enableUriEncoding:function(t){q=typeof t===L||t},ua:Q,getFlashPlayerVersion:function(){return{major:Q.pv[0],minor:Q.pv[1],release:Q.pv[2]}},hasFlashPlayerVersion:T,createSWF:function(t,e,i){return Q.w3?c(t,e,i):void 0},showExpressInstall:function(t,e,i,n){Q.w3&&s()&&o(t,e,i,n)},removeSWF:function(t){Q.w3&&p(t)},createCSS:function(t,e,i,n){Q.w3&&E(t,e,i,n)},addDomLoadEvent:e,addLoadEvent:i,getQueryParamValue:function(t){var e=F.location.search||F.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),!t)return w(e);for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n].substring(0,i[n].indexOf("="))==t)return w(i[n].substring(i[n].indexOf("=")+1))}return""},expressInstallCallback:function(){if(W){var t=g(M);t&&k&&(t.parentNode.replaceChild(k,t),_&&(b(_,!0),Q.ie&&(k.style.display="block")),C&&C(S)),W=!1}},version:"2.3"}})},{}],15:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.initialize(t)}var r=t("./InLine"),a=t("./Wrapper");n.prototype.initialize=function(t){this.id=t.attr("id"),this.sequence=t.attr("sequence"),t.inLine&&(this.inLine=new r(t.inLine)),t.wrapper&&(this.wrapper=new a(t.wrapper))},e.exports=n},{"./InLine":18,"./Wrapper":28}],16:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);o.info("<Companion> found companion ad"),o.debug("<Companion>  companionJTree:",t),this.creativeType=s.attr(t.staticResource,"creativeType"),this.staticResource=s.keyValue(t.staticResource),o.info("<Companion>  creativeType: "+this.creativeType),o.info("<Companion>  staticResource: "+this.staticResource);var e=null;s.keyValue(t.HTMLResource)?e=s.keyValue(t.HTMLResource):s.keyValue(t.hTMLResource)&&(e=s.keyValue(t.hTMLResource)),null!==e&&o.info("<Companion> found html resource",e),this.htmlResource=e;var i=null;s.keyValue(t.IFrameResource)?i=s.keyValue(t.IFrameResource):s.keyValue(t.iFrameresource)&&(i=s.keyValue(t.iFrameresource)),null!==i&&o.info("<Companion> found iframe resource",i),this.iframeResource=i,this.id=s.attr(t,"id"),this.width=s.attr(t,"width"),this.height=s.attr(t,"height"),this.expandedWidth=s.attr(t,"expandedWidth"),this.expandedHeight=s.attr(t,"expandedHeight"),this.scalable=s.attr(t,"scalable"),this.maintainAspectRatio=s.attr(t,"maintainAspectRatio"),this.minSuggestedDuration=s.attr(t,"minSuggestedDuration"),this.apiFramework=s.attr(t,"apiFramework"),this.companionClickThrough=s.keyValue(t.companionClickThrough),this.trackingEvents=function(t){var e=[];return a.isDefined(t)&&(t=a.isArray(t)?t:[t]).forEach(function(t){e.push(new r(t))}),e}(t.trackingEvents&&t.trackingEvents.tracking),o.info("<Companion>  companionClickThrough: "+this.companionClickThrough)}var r=t("./TrackingEvent"),a=t("../../utils/utilityFunctions"),s=t("../../utils/xml"),o=t("../../utils/consoleLogger");e.exports=n},{"../../utils/consoleLogger":41,"../../utils/utilityFunctions":47,"../../utils/xml":48,"./TrackingEvent":21}],17:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);if(this.id=t.attr("id"),this.sequence=t.attr("sequence"),this.adId=t.attr("adId"),this.apiFramework=t.attr("apiFramework"),t.linear&&(this.linear=new r(t.linear)),t.companionAds){var e=[],i=t.companionAds&&t.companionAds.companion;s.isDefined(i)&&(i=s.isArray(i)?i:[i]).forEach(function(t){e.push(new a(t))}),this.companionAds=e}}var r=t("./Linear"),a=t("./Companion"),s=t("../../utils/utilityFunctions");n.prototype.isSupported=function(){return!this.linear||this.linear.isSupported()},n.parseCreatives=function(t){var e=[];return s.isDefined(t)&&s.isDefined(t.creative)&&(s.isArray(t.creative)?t.creative:[t.creative]).forEach(function(t){e.push(new n(t))}),e},e.exports=n},{"../../utils/utilityFunctions":47,"./Companion":16,"./Linear":19}],18:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.adTitle=o.keyValue(t.adTitle),this.adSystem=o.keyValue(t.adSystem),this.impressions=r.parseImpressions(t.impression),this.creatives=a.parseCreatives(t.creatives),this.description=o.keyValue(t.description),this.advertiser=o.keyValue(t.advertiser),this.surveys=function(t){return t?s.transformArray(s.isArray(t)?t:[t],function(t){if(s.isNotEmptyString(t.keyValue))return{uri:t.keyValue,type:t.attr("type")}}):[]}(t.survey),this.error=o.keyValue(t.error),this.pricing=o.keyValue(t.pricing),this.extensions=t.extensions}var r=t("./vastUtil"),a=t("./Creative"),s=t("../../utils/utilityFunctions"),o=t("../../utils/xml");n.prototype.isSupported=function(){var t,e;if(0===this.creatives.length)return!1;for(t=0,e=this.creatives.length;t<e;t+=1)if(!this.creatives[t].isSupported())return!1;return!0},e.exports=n},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Creative":17,"./vastUtil":30}],19:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.duration=l.duration(d.keyValue(t.duration)),this.mediaFiles=function(t){var e=[];return o.isDefined(t)&&(t=o.isArray(t)?t:[t]).forEach(function(t){e.push(new a(t))}),e}(t.mediaFiles&&t.mediaFiles.mediaFile),this.trackingEvents=function(t,e){var i=[];return o.isDefined(t)&&(t=o.isArray(t)?t:[t]).forEach(function(t){i.push(new r(t,e))}),i}(t.trackingEvents&&t.trackingEvents.tracking,this.duration),this.skipoffset=l.offset(d.attr(t,"skipoffset"),this.duration),t.videoClicks&&(this.videoClicks=new s(t.videoClicks)),t.adParameters&&(this.adParameters=d.keyValue(t.adParameters),d.attr(t.adParameters,"xmlEncoded")&&(this.adParameters=d.decode(this.adParameters)))}var r=t("./TrackingEvent"),a=t("./MediaFile"),s=t("./VideoClicks"),o=t("../../utils/utilityFunctions"),l=t("./parsers"),d=t("../../utils/xml");n.prototype.isSupported=function(){var t,e;for(t=0,e=this.mediaFiles.length;t<e;t+=1)if(this.mediaFiles[t].isSupported())return!0;return!1},e.exports=n},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./MediaFile":20,"./TrackingEvent":21,"./VideoClicks":27,"./parsers":29}],20:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.src=r.keyValue(t);for(var e=0;e<s.length;e++){var i=s[e];this[i]=t.attr(i)}}var r=t("../../utils/xml"),a=t("./vastUtil"),s=["delivery","type","width","height","codec","id","bitrate","minBitrate","maxBitrate","scalable","maintainAspectRatio","apiFramework"];n.prototype.isSupported=function(){return a.isVPAID(this)?!!a.findSupportedVPAIDTech(this.type):"video/x-flv"!==this.type||a.isFlashSupported()},e.exports=n},{"../../utils/xml":48,"./vastUtil":30}],21:[function(t,e,i){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);this.name=t.attr("event"),this.uri=a.keyValue(t),"progress"===this.name&&(this.offset=r.offset(t.attr("offset"),e))}var r=t("./parsers"),a=t("../../utils/xml");e.exports=n},{"../../utils/xml":48,"./parsers":29}],22:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);var e={WRAPPER_LIMIT:5};t=t||{},this.settings=u.extend({},t,e),this.errorURLMacros=[]}var r=t("./Ad"),a=t("./VASTError"),s=t("./VASTResponse"),o=t("./vastUtil"),l=t("../../utils/async"),d=t("../../utils/http").http,u=t("../../utils/utilityFunctions"),c=t("../../utils/xml"),h=t("../../utils/consoleLogger");n.prototype.getVASTResponse=function(t,e){function i(t,e){try{var i=n._buildVASTResponse(t);e(null,i)}catch(t){e(t)}}var n=this,r=function(t,e){return t?u.isFunction(e)?void 0:new a("on VASTClient.getVASTResponse, missing callback function"):new a("on VASTClient.getVASTResponse, missing ad tag URL")}(t,e);if(r){if(u.isFunction(e))return e(r);throw r}l.waterfall([this._getVASTAd.bind(this,t),i],e)},n.prototype._getVASTAd=function(t,e){function i(t,e){var i;try{i=c.toJXONTree(t),h.debug("built JXONTree from VAST response:",i),u.isArray(i.ad)?i.ads=i.ad:i.ad?i.ads=[i.ad]:i.ads=[],e(n(i),i)}catch(t){e(new a("on VASTClient.getVASTAd.buildVastWaterfall, error parsing xml",100),null)}}function n(t){var e=c.attr(t,"version");return t.ad?e&&3!=e&&2!=e?new a('on VASTClient.getVASTAd.validateVASTTree, not supported VAST version "'+e+'"',102):null:new a("on VASTClient.getVASTAd.validateVASTTree, no Ad in VAST tree",303)}function s(t,e,i){if(e.length>=f.WRAPPER_LIMIT)return i(new a("on VASTClient.getVASTAd.getAd, players wrapper limit reached (the limit is "+f.WRAPPER_LIMIT+")",302),e);l.waterfall([function(e){u.isString(t)?p(t,e):e(null,t)},o],function(t,n){return n&&e.push(n),t?i(t,e):n.wrapper?s(n.wrapper.VASTAdTagURI,e,i):i(null,e)})}function o(t,e){try{var i=new r(t);e(d(i),i)}catch(t){e(new a("on VASTClient.getVASTAd.buildAd, error parsing xml",100),null)}}function d(t){var e=t.wrapper,i=t.inLine,n="on VASTClient.getVASTAd.validateAd, ";return i&&e?new a(n+"InLine and Wrapper both found on the same Ad",101):i||e?i&&!i.isSupported()?new a(n+"could not find MediaFile that is supported by this video player",403):e&&!e.VASTAdTagURI?new a(n+"missing 'VASTAdTagURI' in wrapper",101):null:new a(n+"nor wrapper nor inline elements found on the Ad",101)}function p(t,e){f._requestVASTXml(t,function(t,i){if(t)return e(t);try{var r=c.toJXONTree(i);e(n(r),r.ad)}catch(t){e(new a("on VASTClient.getVASTAd.requestVASTAd, error parsing xml",100))}})}var f=this;!function(t,e){var n=f._requestVASTXml.bind(f,t);l.waterfall([n,i],e)}(t,function(t,i){function n(t,i){t?(f._trackError(t,i),r.length>0?s(r.shift(),[],n):e(t,i)):e(null,i)}var r=i&&u.isArray(i.ads)?i.ads:null;if(t)return f._trackError(t,r),e(t,r);s(r.shift(),[],n)})},n.prototype._requestVASTXml=function(t,e){function i(t,i,n){if(t){var r=u.isDefined(n)?"on VASTClient.requestVastXML, HTTP request error with status '"+n+"'":"on VASTClient.requestVastXML, Error getting the the VAST XML with he passed adTagXML fn";return e(new a(r,301),null)}e(null,i)}try{u.isFunction(t)?t(i):(h.info("requesting adTagUrl: "+t),d.get(t,i,{withCredentials:!0}))}catch(t){e(t)}},n.prototype._buildVASTResponse=function(t){var e=new s;return function(t,e){e.forEach(function(e){t.addAd(e)})}(e,t),function(t){var e=t.trackingEvents.progress;if(!t.hasLinear())throw new a("on VASTClient._buildVASTResponse, Received an Ad type that is not supported",200);if(void 0===t.duration)throw new a("on VASTClient._buildVASTResponse, Missing duration field in VAST response",101);e&&e.forEach(function(t){if(!u.isNumber(t.offset))throw new a("on VASTClient._buildVASTResponse, missing or wrong offset attribute on progress tracking event",101)})}(e),e},n.prototype._trackError=function(t,e){function i(t){t.wrapper&&t.wrapper.error&&n.push(t.wrapper.error),t.inLine&&t.inLine.error&&n.push(t.inLine.error)}if(u.isArray(e)&&0!==e.length){var n=[];e.forEach(i),o.track(n,{ERRORCODE:t.code||900})}},e.exports=n},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/http":43,"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Ad":15,"./VASTError":23,"./VASTResponse":25,"./vastUtil":30}],23:[function(t,e,i){"use strict";function n(t,e){this.message="VAST Error: "+(t||""),e&&(this.code=e)}n.prototype=new Error,n.prototype.name="VAST Error",e.exports=n},{}],24:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.player=t}var r=t("./VASTResponse"),a=t("./VASTError"),s=t("./VASTTracker"),o=t("./vastUtil"),l=t("../../utils/async"),d=t("../../utils/dom"),u=t("../../utils/playerUtils"),c=t("../../utils/utilityFunctions"),h=t("../../utils/consoleLogger");n.prototype.playAd=function(t,e){var i=this;return e=e||c.noop,t instanceof r?(l.waterfall([function(e){e(null,t)},this._selectAdSource.bind(this),this._createVASTTracker.bind(this),this._addClickThrough.bind(this),this._addSkipButton.bind(this),this._setupEvents.bind(this),this._playSelectedAd.bind(this)],function(t,n){t&&n&&i._trackError(t,n),e(t,n)}),this._adUnit={_src:null,type:"VAST",pauseAd:function(){i.player.pause(!0)},resumeAd:function(){i.player.play(!0)},isPaused:function(){return i.player.paused(!0)},getSrc:function(){return this._src}},this._adUnit):e(new a("On VASTIntegrator, missing required VASTResponse"))},n.prototype._selectAdSource=function(t,e){var i,n=d.getDimension(this.player.el()).width;if(t.mediaFiles.sort(function(t,e){return Math.abs(n-t.width)-Math.abs(n-e.width)}),i=this.player.selectSource(t.mediaFiles).source)return h.info("selected source: ",i),this._adUnit&&(this._adUnit._src=i),e(null,i,t);e(new a("Could not find Ad mediafile supported by this player",403),t)},n.prototype._createVASTTracker=function(t,e,i){try{i(null,t,new s(t.src,e),e)}catch(t){i(t,e)}},n.prototype._setupEvents=function(t,e,i,n){function r(){h.off("fullscreenchange",a),h.off("vast.adStart",l),h.off("pause",s),h.off("timeupdate",o),h.off("volumechange",d)}function a(){h.isFullscreen()?e.trackFullscreen():e.trackExitFullscreen()}function s(){Math.abs(h.duration()-h.currentTime())<2||(e.trackPause(),u.once(h,["play","vast.adEnd","vast.adsCancel"],function(t){"play"===t.type&&e.trackResume()}))}function o(){var t=1e3*h.currentTime();e.trackProgress(t)}function l(){e.trackImpressions(),e.trackCreativeView()}function d(){var t=h.muted();t?e.trackMute():c&&e.trackUnmute(),c=t}var c,h=this.player;return h.on("fullscreenchange",a),h.on("vast.adStart",l),h.on("pause",s),h.on("timeupdate",o),h.on("volumechange",d),u.once(h,["vast.adEnd","vast.adsCancel"],r),u.once(h,["vast.adEnd","vast.adsCancel","vast.adSkip"],function(t){"vast.adEnd"===t.type&&e.trackComplete()}),n(null,t,i)},n.prototype._addSkipButton=function(t,e,i,n){function r(t){var i=window.document.createElement("div");return d.addClass(i,"vast-skip-button"),i.onclick=function(n){if(d.hasClass(i,"enabled")&&(e.trackSkip(),t.trigger("vast.adSkip")),void 0===window.Event.prototype.stopPropagation)return!1;n.stopPropagation()},i}function a(t,e,i){var n=Math.ceil(e-i.currentTime());n>0?t.innerHTML="Skip in "+c.toFixedDigits(n,2)+"...":d.hasClass(t,"enabled")||(d.addClass(t,"enabled"),t.innerHTML="Skip ad")}var s,o=this;c.isNumber(i.skipoffset)&&(s=i.skipoffset/1e3,function(t,e){function i(){t.off("timeupdate",s),d.remove(n)}var n=r(t),s=a.bind(o,n,e,t);t.el().appendChild(n),t.on("timeupdate",s),u.once(t,["vast.adEnd","vast.adsCancel"],i)}(this.player,s)),n(null,t,e,i)},n.prototype._addClickThrough=function(t,e,i,n){function r(t,e,i){t.href=a(e.clickThrough,i)}function a(e,i){var n={ASSETURI:t.src,CONTENTPLAYHEAD:o.formatProgress(1e3*i.currentTime())};return e?o.parseURLMacro(e,n):"#"}function s(){l.off("timeupdate",p),d.remove(h)}var l=this.player,h=function(t,e,i){var n=window.document.createElement("a"),r=i.clickThrough;return d.addClass(n,"vast-blocker"),n.href=a(r,t),c.isString(r)&&(n.target="_blank"),n.onclick=function(i){if(t.paused())return t.play(),void 0!==window.Event.prototype.stopPropagation&&i.stopPropagation(),!1;t.pause(),e.trackClick()},n}(l,e,i),p=r.bind(this,h,i,l);return l.el().insertBefore(h,l.controlBar.el()),l.on("timeupdate",p),u.once(l,["vast.adEnd","vast.adsCancel"],s),n(null,t,e,i)},n.prototype._playSelectedAd=function(t,e,i){function n(){u.once(r,["playing","vast.adsCancel"],function(t){function n(t){"ended"===t.type&&r.duration()-r.currentTime()>3||(r.off("ended",n),r.off("vast.adsCancel",n),r.off("vast.adSkip",n),"ended"!==t.type&&"vast.adSkip"!==t.type||i(null,e))}"vast.adsCancel"!==t.type&&(h.debug("<VASTIntegrator._playSelectedAd/playAd> got playing event; triggering vast.adStart..."),r.trigger("vast.adStart"),r.on("ended",n),r.on("vast.adsCancel",n),r.on("vast.adSkip",n))}),h.debug("<VASTIntegrator._playSelectedAd/playAd> calling player.play()..."),r.play()}var r=this.player;r.preload("auto"),r.src(t),h.debug("<VASTIntegrator._playSelectedAd> waiting for durationchange to play the ad..."),u.once(r,["durationchange","error","vast.adsCancel"],function(t){"durationchange"===t.type?(h.debug("<VASTIntegrator._playSelectedAd> got durationchange; calling playAd()"),n()):"error"===t.type&&i(new a("on VASTIntegrator, Player is unable to play the Ad",400),e)})},n.prototype._trackError=function(t,e){o.track(e.errorURLMacros,{ERRORCODE:t.code||900})},e.exports=n},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/playerUtils":45,"../../utils/utilityFunctions":47,"./VASTError":23,"./VASTResponse":25,"./VASTTracker":26,"./vastUtil":30}],25:[function(t,e,i){"use strict";function n(){if(!(this instanceof n))return new n;this._linearAdded=!1,this.ads=[],this.errorURLMacros=[],this.impressions=[],this.clickTrackings=[],this.customClicks=[],this.trackingEvents={},this.mediaFiles=[],this.clickThrough=void 0,this.adTitle="",this.duration=void 0,this.skipoffset=void 0}function r(t,e){e.forEach(function(e){t.push(e)})}var a=t("./Ad"),s=t("./VideoClicks"),o=t("./Linear"),l=t("./InLine"),d=t("./Wrapper"),u=t("../../utils/utilityFunctions"),c=t("../../utils/xml");window.InLine__A=l,n.prototype.addAd=function(t){var e,i;t instanceof a&&(e=t.inLine,i=t.wrapper,this.ads.push(t),e&&this._addInLine(e),i&&this._addWrapper(i))},n.prototype._addErrorTrackUrl=function(t){var e=t instanceof c.JXONTree?c.keyValue(t):t;e&&this.errorURLMacros.push(e)},n.prototype._addImpressions=function(t){u.isArray(t)&&r(this.impressions,t)},n.prototype._addClickThrough=function(t){u.isNotEmptyString(t)&&(this.clickThrough=t)},n.prototype._addClickTrackings=function(t){u.isArray(t)&&r(this.clickTrackings,t)},n.prototype._addCustomClicks=function(t){u.isArray(t)&&r(this.customClicks,t)},n.prototype._addTrackingEvents=function(t){var e=this.trackingEvents;t&&(t=u.isArray(t)?t:[t]).forEach(function(t){e[t.name]||(e[t.name]=[]),e[t.name].push(t)})},n.prototype._addTitle=function(t){u.isNotEmptyString(t)&&(this.adTitle=t)},n.prototype._addDuration=function(t){u.isNumber(t)&&(this.duration=t)},n.prototype._addVideoClicks=function(t){t instanceof s&&(this._addClickThrough(t.clickThrough),this._addClickTrackings(t.clickTrackings),this._addCustomClicks(t.customClicks))},n.prototype._addMediaFiles=function(t){u.isArray(t)&&r(this.mediaFiles,t)},n.prototype._addSkipoffset=function(t){t&&(this.skipoffset=t)},n.prototype._addAdParameters=function(t){t&&(this.adParameters=t)},n.prototype._addLinear=function(t){t instanceof o&&(this._addDuration(t.duration),this._addTrackingEvents(t.trackingEvents),this._addVideoClicks(t.videoClicks),this._addMediaFiles(t.mediaFiles),this._addSkipoffset(t.skipoffset),this._addAdParameters(t.adParameters),this._linearAdded=!0)},n.prototype._addInLine=function(t){var e=this;t instanceof l&&(this._addTitle(t.adTitle),this._addErrorTrackUrl(t.error),this._addImpressions(t.impressions),t.creatives.forEach(function(t){t.linear&&e._addLinear(t.linear)}))},n.prototype._addWrapper=function(t){var e=this;t instanceof d&&(this._addErrorTrackUrl(t.error),this._addImpressions(t.impressions),t.creatives.forEach(function(t){var i=t.linear;i&&(e._addVideoClicks(i.videoClicks),e.clickThrough=void 0,e._addTrackingEvents(i.trackingEvents))}))},n.prototype.hasLinear=function(){return this._linearAdded},e.exports=n},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Ad":15,"./InLine":18,"./Linear":19,"./VideoClicks":27,"./Wrapper":28}],26:[function(t,e,i){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);this.sanityCheck(t,e),this.initialize(t,e)}var r=t("./VASTError"),a=t("./VASTResponse"),s=t("./vastUtil"),o=t("../../utils/utilityFunctions");n.prototype.initialize=function(t,e){this.response=e,this.assetURI=t,this.progress=0,this.quartiles={firstQuartile:{tracked:!1,time:Math.round(25*e.duration)/100},midpoint:{tracked:!1,time:Math.round(50*e.duration)/100},thirdQuartile:{tracked:!1,time:Math.round(75*e.duration)/100}}},n.prototype.sanityCheck=function(t,e){if(!o.isString(t)||o.isEmptyString(t))throw new r("on VASTTracker constructor, missing required the URI of the ad asset being played");if(!(e instanceof a))throw new r("on VASTTracker constructor, missing required VAST response")},n.prototype.trackURLs=function(t,e){o.isArray(t)&&t.length>0&&(e=o.extend({ASSETURI:this.assetURI,CONTENTPLAYHEAD:s.formatProgress(this.progress)},e||{}),s.track(t,e))},n.prototype.trackEvent=function(t,e){this.trackURLs(function(t){var e;return t&&(e=[],t.forEach(function(t){t.uri&&e.push(t.uri)})),e}(this.response.trackingEvents[t])),e&&(this.response.trackingEvents[t]=void 0)},n.prototype.trackProgress=function(t){function e(t,e,i){s[t]&&i&&r.push({name:t,trackOnce:!!e})}function i(t,e){var i=t.time;return e>=i&&e<=i+5e3}var n=this,r=[],a=!0,s=this.response.trackingEvents;o.isNumber(t)&&(e("start",a,t>0),e("rewind",!1,function(e,i){return e>t&&Math.abs(i-e)>3e3}(this.progress,t)),function(t){function r(t,n){var r=s[t];i(r,n)&&(r.tracked=!0,e(t,a,!0))}var s=n.quartiles,o=n.quartiles.firstQuartile,l=n.quartiles.midpoint,d=n.quartiles.thirdQuartile;o.tracked?l.tracked?d.tracked||r("thirdQuartile",t):r("midpoint",t):r("firstQuartile",t)}(t),function(t){if(o.isArray(s.progress)){var e=[];s.progress.forEach(function(i){i.offset<=t?n.trackURLs([i.uri]):e.push(i)}),s.progress=e}}(t),function(){r.forEach(function(t){n.trackEvent(t.name,t.trackOnce)})}(),this.progress=t)},["rewind","fullscreen","exitFullscreen","pause","resume","mute","unmute","acceptInvitation","acceptInvitationLinear","collapse","expand"].forEach(function(t){n.prototype["track"+o.capitalize(t)]=function(){this.trackEvent(t)}}),["start","skip","close","closeLinear"].forEach(function(t){n.prototype["track"+o.capitalize(t)]=function(){this.trackEvent(t,!0)}}),["firstQuartile","midpoint","thirdQuartile"].forEach(function(t){n.prototype["track"+o.capitalize(t)]=function(){this.quartiles[t].tracked=!0,this.trackEvent(t,!0)}}),n.prototype.trackComplete=function(){this.quartiles.thirdQuartile.tracked&&this.trackEvent("complete",!0)},n.prototype.trackErrorWithCode=function(t){o.isNumber(t)&&this.trackURLs(this.response.errorURLMacros,{ERRORCODE:t})},n.prototype.trackImpressions=function(){this.trackURLs(this.response.impressions)},n.prototype.trackCreativeView=function(){this.trackEvent("creativeView")},n.prototype.trackClick=function(){this.trackURLs(this.response.clickTrackings)},e.exports=n},{"../../utils/utilityFunctions":47,"./VASTError":23,"./VASTResponse":25,"./vastUtil":30}],27:[function(t,e,i){"use strict";function n(t){function e(t){var e=[];return t&&(t=r.isArray(t)?t:[t]).forEach(function(t){e.push(a.keyValue(t))}),e}if(!(this instanceof n))return new n(t);this.clickThrough=a.keyValue(t.clickThrough),this.clickTrackings=e(t.clickTracking),this.customClicks=e(t.customClick)}var r=t("../../utils/utilityFunctions"),a=t("../../utils/xml");e.exports=n},{"../../utils/utilityFunctions":47,"../../utils/xml":48}],28:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.adSystem=o.keyValue(t.adSystem),this.impressions=r.parseImpressions(t.impression),this.VASTAdTagURI=o.keyValue(t.vASTAdTagURI),this.creatives=a.parseCreatives(t.creatives),this.error=o.keyValue(t.error),this.extensions=t.extensions,this.followAdditionalWrappers=!s.isDefined(o.attr(t,"followAdditionalWrappers"))||o.attr(t,"followAdditionalWrappers"),this.allowMultipleAds=o.attr(t,"allowMultipleAds"),this.fallbackOnNoAd=o.attr(t,"fallbackOnNoAd")}var r=t("./vastUtil"),a=t("./Creative"),s=t("../../utils/utilityFunctions"),o=t("../../utils/xml");e.exports=n},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Creative":17,"./vastUtil":30}],29:[function(t,e,i){"use strict";var n=t("../../utils/utilityFunctions"),r=/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/,a={duration:function(t){var e,i;return n.isString(t)&&(e=t.match(r))&&(i=function(t){return 60*parseInt(t,10)*60*1e3}(e[1])+function(t){return 60*parseInt(t,10)*1e3}(e[2])+function(t){return 1e3*parseInt(t,10)}(e[3])+parseInt(e[5]||0)),isNaN(i)?null:i},offset:function(t,e){function i(t,e){return t*e/100}return function(t){return/^\d+(\.\d+)?%$/g.test(t)}(t)?function(t,e){return e?i(e,parseFloat(t.replace("%",""))):null}(t,e):a.duration(t)}};e.exports=a},{"../../utils/utilityFunctions":47}],30:[function(t,e,i){"use strict";var n=t("../../utils/utilityFunctions"),r=t("../vpaid/VPAIDHTML5Tech"),a=t("../vpaid/VPAIDFlashTech"),s=t("VPAIDFLASHClient/js/VPAIDFLASHClient"),o={track:function(t,e){var i=[];return o.parseURLMacros(t,e).forEach(function(t){var e=new Image;e.src=t,i.push(e)}),i},parseURLMacros:function(t,e){var i=[];return(e=e||{}).CACHEBUSTING||(e.CACHEBUSTING=Math.round(1e10*Math.random())),t.forEach(function(t){i.push(o._parseURLMacro(t,e))}),i},parseURLMacro:function(t,e){return(e=e||{}).CACHEBUSTING||(e.CACHEBUSTING=Math.round(1e10*Math.random())),o._parseURLMacro(t,e)},_parseURLMacro:function(t,e){return e=e||{},n.forEach(e,function(e,i){t=t.replace(new RegExp("\\["+i+"\\]","gm"),e)}),t},parseDuration:function(t){var e,i,r=/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/;return n.isString(t)&&(e=t.match(r))&&(i=function(t){return 60*parseInt(t,10)*60*1e3}(e[1])+function(t){return 60*parseInt(t,10)*1e3}(e[2])+function(t){return 1e3*parseInt(t,10)}(e[3])+parseInt(e[5]||0)),isNaN(i)?null:i},parseImpressions:function(t){return t?(t=n.isArray(t)?t:[t],n.transformArray(t,function(t){if(n.isNotEmptyString(t.keyValue))return t.keyValue})):[]},formatProgress:function(t){var e,i,r,a;return e=t/36e5,e=Math.floor(e),i=t/6e4%60,i=Math.floor(i),r=t/1e3%60,r=Math.floor(r),a=t%1e3,n.toFixedDigits(e,2)+":"+n.toFixedDigits(i,2)+":"+n.toFixedDigits(r,2)+"."+n.toFixedDigits(a,3)},parseOffset:function(t,e){function i(t,e){return t*e/100}return function(t){return/^\d+(\.\d+)?%$/g.test(t)}(t)?function(t,e){return e?i(e,parseFloat(t.replace("%",""))):null}(t,e):o.parseDuration(t)},VPAID_techs:[a,r],isVPAID:function(t){return!!t&&"VPAID"===t.apiFramework},findSupportedVPAIDTech:function(t){var e,i,n;for(e=0,i=this.VPAID_techs.length;e<i;e+=1)if((n=this.VPAID_techs[e]).supports(t))return n;return null},isFlashSupported:function(){return s.isSupported()},runFlashSupportCheck:function(t){s.runFlashTest({data:t})}};e.exports=o},{"../../utils/utilityFunctions":47,"../vpaid/VPAIDFlashTech":32,"../vpaid/VPAIDHTML5Tech":33,"VPAIDFLASHClient/js/VPAIDFLASHClient":3}],31:[function(t,e,i){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);!function(t,e){if(!t||!n.checkVPAIDInterface(t))throw new r("on VPAIDAdUnitWrapper, the passed VPAID adUnit does not fully implement the VPAID interface");if(!a.isObject(e))throw new r("on VPAIDAdUnitWrapper, expected options hash  but got '"+e+"'");if(!("responseTimeout"in e&&a.isNumber(e.responseTimeout)))throw new r("on VPAIDAdUnitWrapper, expected responseTimeout in options")}(t,e),this.options=a.extend({},e),this._adUnit=t}var r=t("../vast/VASTError"),a=t("../../utils/utilityFunctions");n.checkVPAIDInterface=function(t){for(var e=["handshakeVersion","initAd","startAd","stopAd","resizeAd","pauseAd","expandAd","collapseAd"],i=0,n=e.length;i<n;i++)if(!t||!a.isFunction(t[e[i]]))return!1;return function(t){return a.isFunction(t.subscribe)||a.isFunction(t.addEventListener)||a.isFunction(t.on)}(t)&&function(t){return a.isFunction(t.unsubscribe)||a.isFunction(t.removeEventListener)||a.isFunction(t.off)}(t)},n.prototype.adUnitAsyncCall=function(){var t,e=a.arrayLikeObjToArray(arguments),i=e.shift(),n=e.pop();!function(t,e,i){if(!a.isString(t)||!a.isFunction(i[t]))throw new r("on VPAIDAdUnitWrapper.adUnitAsyncCall, invalid method name");if(!a.isFunction(e))throw new r("on VPAIDAdUnitWrapper.adUnitAsyncCall, missing callback")}(i,n,this._adUnit),e.push(function(){return function(){t&&clearTimeout(t),n.apply(this,arguments)}}()),this._adUnit[i].apply(this._adUnit,e),t=setTimeout(function(){t=null,n(new r("on VPAIDAdUnitWrapper, timeout while waiting for a response on call '"+i+"'")),n=a.noop},this.options.responseTimeout)},n.prototype.on=function(t,e){(this._adUnit.addEventListener||this._adUnit.subscribe||this._adUnit.on).call(this._adUnit,t,e)},n.prototype.off=function(t,e){(this._adUnit.removeEventListener||this._adUnit.unsubscribe||this._adUnit.off).call(this._adUnit,t,e)},n.prototype.waitForEvent=function(t,e,i){function n(){var t=a.arrayLikeObjToArray(arguments);s&&(clearTimeout(s),s=null),t.unshift(null),e.apply(i,t)}var s;!function(t,e){if(!a.isString(t))throw new r("on VPAIDAdUnitWrapper.waitForEvent, missing evt name");if(!a.isFunction(e))throw new r("on VPAIDAdUnitWrapper.waitForEvent, missing callback")}(t,e),i=i||null,this.on(t,n),s=setTimeout(function(){e(new r("on VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event '"+t+"'")),s=null,e=a.noop},this.options.responseTimeout)},n.prototype.handshakeVersion=function(t,e){this.adUnitAsyncCall("handshakeVersion",t,e)},n.prototype.initAd=function(t,e,i,n,r,a){this.waitForEvent("AdLoaded",a),this._adUnit.initAd(t,e,i,n,r)},n.prototype.resizeAd=function(t,e,i,n){this.adUnitAsyncCall("resizeAd",t,e,i,n)},n.prototype.startAd=function(t){this.waitForEvent("AdStarted",t),this._adUnit.startAd()},n.prototype.stopAd=function(t){this.waitForEvent("AdStopped",t),this._adUnit.stopAd()},n.prototype.pauseAd=function(t){this.waitForEvent("AdPaused",t),this._adUnit.pauseAd()},n.prototype.resumeAd=function(t){this.waitForEvent("AdPlaying",t),this._adUnit.resumeAd()},n.prototype.expandAd=function(t){this.waitForEvent("AdExpandedChange",t),this._adUnit.expandAd()},n.prototype.collapseAd=function(t){this.waitForEvent("AdExpandedChange",t),this._adUnit.collapseAd()},n.prototype.skipAd=function(t){this.waitForEvent("AdSkipped",t),this._adUnit.skipAd()},["adLinear","adWidth","adHeight","adExpanded","adSkippableState","adRemainingTime","adDuration","adVolume","adCompanions","adIcons"].forEach(function(t){var e="get"+a.capitalize(t);n.prototype[e]=function(t){this.adUnitAsyncCall(e,t)}}),n.prototype.setAdVolume=function(t,e){this.adUnitAsyncCall("setAdVolume",t,e)},e.exports=n},{"../../utils/utilityFunctions":47,"../vast/VASTError":23}],32:[function(t,e,i){"use strict";function n(t,e){if(!(this instanceof n))return new n(t);!function(t){if(!t||!o.isString(t.src))throw new a("on VPAIDFlashTech, invalid MediaFile")}(t),this.name="vpaid-flash",this.mediaFile=t,this.containerEl=null,this.vpaidFlashClient=null,this.settings=e}var r=t("../../utils/mimetypes"),a=t("../vast/VASTError"),s=t("VPAIDFLASHClient/js/VPAIDFLASHClient"),o=t("../../utils/utilityFunctions"),l=t("../../utils/dom"),d=t("../../utils/consoleLogger");n.VPAIDFLASHClient=s,n.supports=function(t){return r.flash.indexOf(t)>-1&&n.VPAIDFLASHClient.isSupported()},n.prototype.loadAdUnit=function(t,e,i){var r=this,s=this.settings&&this.settings.vpaidFlashLoaderPath?{data:this.settings.vpaidFlashLoaderPath}:void 0;!function(t,e){if(!l.isDomElement(t))throw new a("on VPAIDFlashTech.loadAdUnit, invalid dom container element");if(!o.isFunction(e))throw new a("on VPAIDFlashTech.loadAdUnit, missing valid callback")}(t,i),this.containerEl=t,d.debug("<VPAIDFlashTech.loadAdUnit> loading VPAIDFLASHClient with opts:",s),this.vpaidFlashClient=new n.VPAIDFLASHClient(t,function(t){if(t)return i(t);d.info("<VPAIDFlashTech.loadAdUnit> calling VPAIDFLASHClient.loadAdUnit(); that.mediaFile:",r.mediaFile),r.vpaidFlashClient.loadAdUnit(r.mediaFile.src,i)},s)},n.prototype.unloadAdUnit=function(){if(this.vpaidFlashClient){try{this.vpaidFlashClient.destroy()}catch(t){d.error("VAST ERROR: trying to unload the VPAID adunit")}this.vpaidFlashClient=null}this.containerEl&&(l.remove(this.containerEl),this.containerEl=null)},e.exports=n},{"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/utilityFunctions":47,"../vast/VASTError":23,"VPAIDFLASHClient/js/VPAIDFLASHClient":3}],33:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);!function(t){if(!t||!o.isString(t.src))throw new a(n.INVALID_MEDIA_FILE)}(t),this.name="vpaid-html5",this.containerEl=null,this.videoEl=null,this.vpaidHTMLClient=null,this.mediaFile=t}var r=t("../../utils/mimetypes"),a=t("../vast/VASTError"),s=t("VPAIDHTML5Client/js/VPAIDHTML5Client"),o=t("../../utils/utilityFunctions"),l=t("../../utils/dom"),d=t("../../utils/consoleLogger");n.VPAIDHTML5Client=s,n.supports=function(t){return!o.isOldIE()&&r.html5.indexOf(t)>-1},n.prototype.loadAdUnit=function(t,e,i){!function(t,e,i){if(!l.isDomElement(t))throw new a(n.INVALID_DOM_CONTAINER_EL);if(!l.isDomElement(e)||"video"!==e.tagName.toLowerCase())throw new a(n.INVALID_DOM_CONTAINER_EL);if(!o.isFunction(i))throw new a(n.MISSING_CALLBACK)}(t,e,i),this.containerEl=t,this.videoEl=e,this.vpaidHTMLClient=new n.VPAIDHTML5Client(t,e,{}),this.vpaidHTMLClient.loadAdUnit(this.mediaFile.src,i)},n.prototype.unloadAdUnit=function(){if(this.vpaidHTMLClient){try{this.vpaidHTMLClient.destroy()}catch(t){d.error("VAST ERROR: trying to unload the VPAID adunit")}this.vpaidHTMLClient=null}this.containerEl&&(l.remove(this.containerEl),this.containerEl=null)};var u="on VPAIDHTML5Tech";n.INVALID_MEDIA_FILE=u+", invalid MediaFile",n.INVALID_DOM_CONTAINER_EL=u+", invalid container HtmlElement",n.INVALID_DOM_VIDEO_EL=u+", invalid HTMLVideoElement",n.MISSING_CALLBACK=u+", missing valid callback",e.exports=n},{"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/utilityFunctions":47,"../vast/VASTError":23,"VPAIDHTML5Client/js/VPAIDHTML5Client":11}],34:[function(t,e,i){"use strict";function n(t,e){if(!(this instanceof n))return new n(t);this.VIEW_MODE={NORMAL:"normal",FULLSCREEN:"fullscreen",THUMBNAIL:"thumbnail"},this.player=t,this.containerEl=function(){var e=document.createElement("div");return p.addClass(e,"VPAID-container"),t.el().insertBefore(e,t.controlBar.el()),e}(),this.options={responseTimeout:5e3,VPAID_VERSION:"2.0"},this.settings=e}function r(t,e,i){var n=t.el().querySelector(".vjs-tech"),r=p.getDimension(n),s=t.isFullscreen()?i.FULLSCREEN:i.NORMAL;e.resizeAd(r.width,r.height,s,a)}function a(t){t&&g.error("ERROR: "+t.message,t)}var s=t("../../utils/mimetypes"),o=t("../vast/VASTError"),l=t("../vast/VASTResponse"),d=t("../vast/VASTTracker"),u=t("../vast/vastUtil"),c=t("./VPAIDAdUnitWrapper"),h=t("../../utils/async"),p=t("../../utils/dom"),f=t("../../utils/playerUtils"),v=t("../../utils/utilityFunctions"),g=t("../../utils/consoleLogger");n.prototype.playAd=function(t,e){function i(t,i,n){t&&n&&a._trackError(n,t.code),s.trigger("vpaid.adEnd"),e(t,n)}function n(){s.trigger("vpaid.adEnd")}function r(){d&&d.unloadAdUnit(),p.removeClass(s.el(),"vjs-vpaid-ad")}if(!(t instanceof l))return e(new o("on VASTIntegrator.playAd, missing required VASTResponse"));var a=this,s=this.player;g.debug("<VPAIDIntegrator.playAd> looking for supported tech...");var d=this._findSupportedTech(t,this.settings);return e=e||v.noop,this._adUnit=null,p.addClass(s.el(),"vjs-vpaid-ad"),s.on("vast.adsCancel",n),s.one("vpaid.adEnd",function(){s.off("vast.adsCancel",n),r()}),d?(g.info("<VPAIDIntegrator.playAd> found tech: ",d),h.waterfall([function(e){e(null,d,t)},this._loadAdUnit.bind(this),this._playAdUnit.bind(this),this._finishPlaying.bind(this)],i),this._adUnit={_paused:!0,type:"VPAID",pauseAd:function(){s.trigger("vpaid.pauseAd"),s.pause(!0)},resumeAd:function(){s.trigger("vpaid.resumeAd")},isPaused:function(){return this._paused},getSrc:function(){return d.mediaFile}}):(g.debug("<VPAIDIntegrator.playAd> could not find suitable tech"),i(new o("on VPAIDIntegrator.playAd, could not find a supported mediaFile",403),this._adUnit,t)),this._adUnit},n.prototype._findSupportedTech=function(t,e){if(!(t instanceof l))return null;var i,n,r,a,o=t.mediaFiles.filter(u.isVPAID),d=e&&e.preferredTech,c=[];for(i=0,n=o.length;i<n;i+=1)if(r=o[i],a=u.findSupportedVPAIDTech(r.type)){if(!!d&&(r.type===d||s[d]&&s[d].indexOf(r.type)>-1))return new a(r,e);c.push({mediaFile:r,tech:a})}if(c.length){var h=c[0];return new h.tech(h.mediaFile,e)}return null},n.prototype._createVPAIDAdUnitWrapper=function(t,e,i){return new c(t,{src:e,responseTimeout:i})},n.prototype._loadAdUnit=function(t,e,i){var n=this,r=this.player,a=r.el().querySelector(".vjs-tech"),s=this.settings.responseTimeout||this.options.responseTimeout;t.loadAdUnit(this.containerEl,a,function(a,o){if(a)return i(a,o,e);try{var l=n._createVPAIDAdUnitWrapper(o,t.mediaFile.src,s),d="vjs-"+t.name+"-ad";p.addClass(r.el(),d),r.one("vpaid.adEnd",function(){p.removeClass(r.el(),d)}),i(null,l,e)}catch(t){i(t,o,e)}})},n.prototype._playAdUnit=function(t,e,i){h.waterfall([function(i){i(null,t,e)},this._handshake.bind(this),this._initAd.bind(this),this._setupEvents.bind(this),this._addSkipButton.bind(this),this._linkPlayerControls.bind(this),this._startAd.bind(this)],i)},n.prototype._handshake=function(t,e,i){function n(t){var e=r(t);return e>=1&&e<=2}function r(t){var e=t.split(".");return parseInt(e[0],10)}t.handshakeVersion(this.options.VPAID_VERSION,function(r,a){return r?i(r,t,e):a&&n(a)?i(null,t,e):i(new o('on VPAIDIntegrator._handshake, unsupported version "'+a+'"'),t,e)})},n.prototype._initAd=function(t,e,i){var n=this.player.el().querySelector(".vjs-tech"),r=p.getDimension(n);t.initAd(r.width,r.height,this.VIEW_MODE.NORMAL,-1,{AdParameters:e.adParameters||""},function(n){i(n,t,e)})},n.prototype._createVASTTracker=function(t,e){return new d(t,e)},n.prototype._setupEvents=function(t,e,i){function n(){h._adUnit&&h._adUnit.isPaused()&&(h._adUnit._paused=!1),c.trigger("play")}function a(){h._adUnit&&(h._adUnit._paused=!0),c.trigger("pause")}function s(){t.pauseAd(v.noop)}function o(){t.resumeAd(v.noop)}var l=t.options.src,d=this._createVASTTracker(l,e),c=this.player,h=this;t.on("AdSkipped",function(){c.trigger("vpaid.AdSkipped"),d.trackSkip()}),t.on("AdImpression",function(){c.trigger("vpaid.AdImpression"),d.trackImpressions()}),t.on("AdStarted",function(){c.trigger("vpaid.AdStarted"),d.trackCreativeView(),n()}),t.on("AdVideoStart",function(){c.trigger("vpaid.AdVideoStart"),d.trackStart(),n()}),t.on("AdPlaying",function(){c.trigger("vpaid.AdPlaying"),d.trackResume(),n()}),t.on("AdPaused",function(){c.trigger("vpaid.AdPaused"),d.trackPause(),a()}),t.on("AdVideoFirstQuartile",function(){c.trigger("vpaid.AdVideoFirstQuartile"),d.trackFirstQuartile()}),t.on("AdVideoMidpoint",function(){c.trigger("vpaid.AdVideoMidpoint"),d.trackMidpoint()}),t.on("AdVideoThirdQuartile",function(){c.trigger("vpaid.AdVideoThirdQuartile"),d.trackThirdQuartile()}),t.on("AdVideoComplete",function(){c.trigger("vpaid.AdVideoComplete"),d.trackComplete()}),t.on("AdClickThru",function(i){c.trigger("vpaid.AdClickThru");var n=i.url,r=i.playerHandles,a=v.isNotEmptyString(n)?n:function(e){var i={ASSETURI:t.options.src,CONTENTPLAYHEAD:0};return e?u.parseURLMacro(e,i):null}(e.clickThrough);d.trackClick(),r&&a&&window.open(a,"_blank")}),t.on("AdUserAcceptInvitation",function(){c.trigger("vpaid.AdUserAcceptInvitation"),d.trackAcceptInvitation(),d.trackAcceptInvitationLinear()}),t.on("AdUserClose",function(){c.trigger("vpaid.AdUserClose"),d.trackClose(),d.trackCloseLinear()}),t.on("AdUserMinimize",function(){c.trigger("vpaid.AdUserMinimize"),d.trackCollapse()}),t.on("AdError",function(){c.trigger("vpaid.AdError"),d.trackErrorWithCode(901)}),t.on("AdVolumeChange",function(){c.trigger("vpaid.AdVolumeChange");var e=c.volume();t.getAdVolume(function(t,i){e!==i&&(0===i&&e>0&&d.trackMute(),i>0&&0===e&&d.trackUnmute(),c.volume(i))})});var f=r.bind(this,c,t,this.VIEW_MODE),g=v.throttle(f,100),y=this.settings.autoResize;y&&(p.addEventListener(window,"resize",g),p.addEventListener(window,"orientationchange",g)),c.on("vast.resize",f),c.on("vpaid.pauseAd",s),c.on("vpaid.resumeAd",o),c.one("vpaid.adEnd",function(){c.off("vast.resize",f),c.off("vpaid.pauseAd",s),c.off("vpaid.resumeAd",o),y&&(p.removeEventListener(window,"resize",g),p.removeEventListener(window,"orientationchange",g))}),i(null,t,e)},n.prototype._addSkipButton=function(t,e,i){function n(){l.trigger("vpaid.AdSkippableStateChange"),t.getAdSkippableState(function(t,e){e?o||r(l):a()})}function r(t){o=s(),t.el().appendChild(o)}function a(){p.remove(o),o=null}function s(){var e=window.document.createElement("div");return p.addClass(e,"vast-skip-button"),p.addClass(e,"enabled"),e.innerHTML="Skip ad",e.onclick=function(e){if(t.skipAd(v.noop),void 0===window.Event.prototype.stopPropagation)return!1;e.stopPropagation()},e}var o,l=this.player;t.on("AdSkippableStateChange",n),f.once(l,["vast.adEnd","vast.adsCancel"],a),i(null,t,e)},n.prototype._linkPlayerControls=function(t,e,i){var n=this;!function(t,e){function i(){var i=t.muted()?0:t.volume();e.setAdVolume(i,a)}function n(){t.trigger("vpaid.AdVolumeChange");var i=t.volume();e.getAdVolume(function(e,n){e?a(e):i!==n&&t.volume(n)})}t.on("volumechange",i),e.on("AdVolumeChange",n),t.one("vpaid.adEnd",function(){t.off("volumechange",i)})}(this.player,t),function(t,e,i){var a=r.bind(n,t,e,i);t.on("fullscreenchange",a),t.one("vpaid.adEnd",function(){t.off("fullscreenchange",a)})}(this.player,t,this.VIEW_MODE),i(null,t,e)},n.prototype._startAd=function(t,e,i){var n=this.player;t.startAd(function(r){r||n.trigger("vast.adStart"),i(r,t,e)})},n.prototype._finishPlaying=function(t,e,i){function n(n){i(n,t,e)}var r=this.player;t.on("AdStopped",function(){r.trigger("vpaid.AdStopped"),n(null)}),t.on("AdError",function(t){var e=t?t.message:"on VPAIDIntegrator, error while waiting for the adUnit to finish playing";n(new o(e))})},n.prototype._trackError=function(t,e){u.track(t.errorURLMacros,{ERRORCODE:e||901})},e.exports=n},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/playerUtils":45,"../../utils/utilityFunctions":47,"../vast/VASTError":23,"../vast/VASTResponse":25,"../vast/VASTTracker":26,"../vast/vastUtil":30,"./VPAIDAdUnitWrapper":31}],35:[function(t,e,i){"use strict";var n=t("../../utils/dom"),r=document.createElement("div");r.className="vjs-ads-label vjs-control vjs-label-hidden",r.innerHTML="Advertisement";var a=function(t){return{init:function(e,i){i.el=r,t.call(this,e,i),setTimeout(function(){var t=e.controlBar&&(e.controlBar.getChild("timerControls")||e.controlBar.getChild("currentTimeDisplay"));t&&e.controlBar.el().insertBefore(r,t.el()),n.removeClass(r,"vjs-label-hidden")},0)},el:function(){return r}}};e.exports=a},{"../../utils/dom":42}],36:[function(t,e,i){"use strict";var n=videojs.getComponent("Component"),r=t("./ads-label")(n);videojs.registerComponent("AdsLabel",videojs.extend(n,r))},{"./ads-label":35}],37:[function(t,e,i){"use strict";var n=document.createElement("div"),r=function(t){return{init:function(e,i){i.el=n,n.className="vjs-black-poster",t.call(this,e,i);var r=e.getChild("posterImage");setTimeout(function(){r&&e&&e.el()&&e.el().insertBefore(n,r.el())},0)},el:function(){return n}}};e.exports=r},{}],38:[function(t,e,i){"use strict";var n=videojs.getComponent("Component"),r=t("./black-poster")(n);videojs.registerComponent("BlackPoster",videojs.extend(n,r))},{"./black-poster":37}],39:[function(t,e,i){"use strict";var n=t("../ads/vast/VASTClient"),r=t("../ads/vast/VASTError"),a=t("../ads/vast/vastUtil"),s=t("../ads/vast/VASTIntegrator"),o=t("../ads/vpaid/VPAIDIntegrator"),l=t("../utils/async"),d=t("../utils/dom"),u=t("../utils/playerUtils"),c=t("../utils/utilityFunctions"),h=t("../utils/consoleLogger");e.exports=function(t){function e(){function t(){m.vast&&m.vast.adUnit&&(m.vast.adUnit=null)}function e(){i(),A&&(u.restorePlayerSnapshot(m,A),A=null)}function i(){u.once(m,["playing","vast.reset","vast.firstPlay"],function(t){"playing"===t.type&&(m.trigger("vast.contentStart"),u.once(m,["ended","vast.reset","vast.firstPlay"],function(t){"ended"===t.type&&m.trigger("vast.contentEnd")}))})}function n(t){if(w.adsEnabled)return t(null);t(new r("Ads are not enabled"))}function a(t){s()?(A=u.getPlayerSnapshot(m),m.pause(),h(),m.paused()?t(null):u.once(m,["playing"],function(){m.pause(),t(null)})):t(new r("video content has been playing before preroll ad"))}function s(){return!c.isIPhone()||m.currentTime()<=w.iosPrerollCancelTimeout}function o(t){function e(){i&&(clearTimeout(i),i=null)}var i;E=!1,i=setTimeout(function(){g(new r("timeout while waiting for the video to start playing",402))},w.adCancelTimeout),u.once(m,["vast.adStart","vast.adsCancel"],e),t(null)}function h(){d.addClass(m.el(),"vjs-vast-ad-loading"),u.once(m,["vast.adStart","vast.adsCancel"],f)}function f(){setTimeout(function(){d.removeClass(m.el(),"vjs-vast-ad-loading")},100)}u.removeNativePoster(m),u.once(m,["vast.adsCancel","vast.adEnd"],function(){t(),e()}),l.waterfall([n,a,o,p],function(t,e){t?g(t,e):m.trigger("vast.adEnd")})}function i(){m.trigger("vast.adsCancel"),E=!0}function p(t){l.waterfall([f,v],t)}function f(t){T.getVASTResponse(w.adTagUrl?w.adTagUrl():w.adTagXML,t)}function v(t,e){function i(){a||m.controlBar.getChild("AdsLabel")||m.controlBar.addChild("AdsLabel")}function n(){m.controlBar.removeChild("AdsLabel"),a=!0}if(!E){var r=y(t)?new o(m,w):new s(m),a=!1;u.once(m,["vast.adStart","vast.adsCancel"],function(t){"vast.adStart"===t.type&&i()}),u.once(m,["vast.adEnd","vast.adsCancel"],n),c.isIDevice()&&function(){function t(){m.duration()-r>n&&(m.pause(!0),m.play(!0),m.currentTime(r))}function e(){var t=m.currentTime();Math.abs(t-r)>n?((a+=1)>=2&&m.pause(!0),m.currentTime(r)):r=t}function i(){m.off("timeupdate",e),m.off("ended",t)}var n=5,r=0,a=0;m.on("timeupdate",e),m.on("ended",t),u.once(m,["vast.adEnd","vast.adsCancel","vast.adError"],i)}(),m.vast.vastResponse=t,h.debug("calling adIntegrator.playAd() with vastResponse:",t),m.vast.adUnit=r.playAd(t,e)}}function g(t,e){m.trigger({type:"vast.adError",error:t}),i(),h.error("AD ERROR:",t.message,t,e)}function y(t){var e,i,n=t.mediaFiles;for(e=0,i=n.length;e<i;e++)if(a.isVPAID(n[e]))return!0;return!1}var A,m=this,T=new n,E=!1,b={timeout:500,iosPrerollCancelTimeout:5e3,adCancelTimeout:3e3,playAdAlways:!1,adsEnabled:!0,autoResize:!0,vpaidFlashLoaderPath:"/VPAIDFlash.swf",verbosity:0},w=c.extend({},b,t||{});return c.isUndefined(w.adTagUrl)&&c.isDefined(w.url)&&(w.adTagUrl=w.url),c.isString(w.adTagUrl)&&(w.adTagUrl=c.echoFn(w.adTagUrl)),c.isDefined(w.adTagXML)&&!c.isFunction(w.adTagXML)?g(new r("on VideoJS VAST plugin, the passed adTagXML option does not contain a function")):c.isDefined(w.adTagUrl)||c.isFunction(w.adTagXML)?(h.setVerbosity(w.verbosity),a.runFlashSupportCheck(w.vpaidFlashLoaderPath),u.prepareForAds(m),w.playAdAlways&&m.on("vast.contentEnd",function(){setTimeout(function(){m.trigger("vast.reset")},0)}),m.on("vast.firstPlay",e),m.on("vast.reset",function(){A=null,i()}),m.vast={isEnabled:function(){return w.adsEnabled},enable:function(){w.adsEnabled=!0},disable:function(){w.adsEnabled=!1}},m.vast):g(new r("on VideoJS VAST plugin, missing adTagUrl on options object"))}},{"../ads/vast/VASTClient":22,"../ads/vast/VASTError":23,"../ads/vast/VASTIntegrator":24,"../ads/vast/vastUtil":30,"../ads/vpaid/VPAIDIntegrator":34,"../utils/async":40,"../utils/consoleLogger":41,"../utils/dom":42,"../utils/playerUtils":45,"../utils/utilityFunctions":47}],40:[function(t,e,i){var n=t("./utilityFunctions"),r={};r.setImmediate=function(t){setTimeout(t,0)},r.iterator=function(t){var e=function(i){var n=function(){return t.length&&t[i].apply(null,arguments),n.next()};return n.next=function(){return i<t.length-1?e(i+1):null},n};return e(0)},r.waterfall=function(t,e){if(e=e||function(){},!n.isArray(t)){var i=new Error("First argument to waterfall must be an array of functions");return e(i)}if(!t.length)return e();var a=function(t){return function(i){if(i)e.apply(null,arguments),e=function(){};else{var n=Array.prototype.slice.call(arguments,1),s=t.next();s?n.push(a(s)):n.push(e),r.setImmediate(function(){t.apply(null,n)})}}};a(r.iterator(t))()},r.when=function(t,e){if(!n.isFunction(e))throw new Error("async.when error: missing callback argument");var i=n.isFunction(t)?t:function(){return!!t};return function(){var t=n.arrayLikeObjToArray(arguments),r=t.pop();return i.apply(null,t)?e.apply(this,arguments):(t.unshift(null),r.apply(null,t))}},e.exports=r},{"./utilityFunctions":47}],41:[function(t,e,i){"use strict";function n(t){u=t}function r(t,e){e.length>0&&"string"==typeof e[0]&&(e[0]=c+e[0]),t.apply?t.apply(console,Array.prototype.slice.call(e)):t(Array.prototype.slice.call(e))}function a(){u<4||(void 0===console.debug?r(console.log,arguments):r(console.debug,arguments))}function s(){u<3||r(console.log,arguments)}function o(){u<2||r(console.info,arguments)}function l(){u<1||r(console.warn,arguments)}function d(){r(console.error,arguments)}var u=0,c="[videojs-vast-vpaid] ",h={setVerbosity:n,debug:a,log:s,info:o,warn:l,error:d};"undefined"!=typeof console&&console.log||(h.debug=function(){},h.log=function(){},h.info=function(){},h.warn=function(){},h.error=function(){}),e.exports=h},{}],42:[function(t,e,i){"use strict";var n=t("./utilityFunctions"),r={};r.isVisible=function(t){return"hidden"!==window.getComputedStyle(t).visibility},r.isHidden=function(t){return"none"===window.getComputedStyle(t).display},r.isShown=function(t){return!r.isHidden(t)},r.hide=function(t){t.__prev_style_display_=t.style.display,t.style.display="none"},r.show=function(t){r.isHidden(t)&&(t.style.display=t.__prev_style_display_),t.__prev_style_display_=void 0},r.hasClass=function(t,e){var i,r,a;if(n.isNotEmptyString(e)){if(t.classList)return t.classList.contains(e);for(i=n.isString(t.getAttribute("class"))?t.getAttribute("class").split(/\s+/):[],e=e||"",r=0,a=i.length;r<a;r+=1)if(i[r]===e)return!0}return!1},r.addClass=function(t,e){var i;if(n.isNotEmptyString(e)){if(t.classList)return t.classList.add(e);i=n.isString(t.getAttribute("class"))?t.getAttribute("class").split(/\s+/):[],n.isString(e)&&n.isNotEmptyString(e.replace(/\s+/,""))&&(i.push(e),t.setAttribute("class",i.join(" ")))}},r.removeClass=function(t,e){var i;if(n.isNotEmptyString(e)){if(t.classList)return t.classList.remove(e);i=n.isString(t.getAttribute("class"))?t.getAttribute("class").split(/\s+/):[];var r,a,s=[];if(n.isString(e)&&n.isNotEmptyString(e.replace(/\s+/,""))){for(r=0,a=i.length;r<a;r+=1)e!==i[r]&&s.push(i[r]);t.setAttribute("class",s.join(" "))}}},r.addEventListener=function(t,e,i){n.isArray(t)?n.forEach(t,function(t){r.addEventListener(t,e,i)}):n.isArray(e)?n.forEach(e,function(e){r.addEventListener(t,e,i)}):t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},r.removeEventListener=function(t,e,i){n.isArray(t)?n.forEach(t,function(t){r.removeEventListener(t,e,i)}):n.isArray(e)?n.forEach(e,function(e){r.removeEventListener(t,e,i)}):t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null},r.dispatchEvent=function(t,e){t.dispatchEvent?t.dispatchEvent(e):t.fireEvent("on"+e.eventType,e)},r.isDescendant=function(t,e){for(var i=e.parentNode;null!==i;){if(i===t)return!0;i=i.parentNode}return!1},r.getTextContent=function(t){return t.textContent||t.text},r.prependChild=function(t,e){return e.parentNode&&e.parentNode.removeChild(e),t.insertBefore(e,t.firstChild)},r.remove=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},r.isDomElement=function(t){return t instanceof Element},r.click=function(t,e){r.addEventListener(t,"click",e)},r.once=function(t,e,i){function n(){i.apply(null,arguments),r.removeEventListener(t,e,n)}r.addEventListener(t,e,n)},r.getDimension=function(t){var e;return!n.isOldIE()&&t.getBoundingClientRect?(e=t.getBoundingClientRect(),{width:e.width,height:e.height}):{width:t.offsetWidth,height:t.offsetHeight}},e.exports=r},{"./utilityFunctions":47}],43:[function(t,e,i){"use strict";function n(t){this.message="HttpRequest Error: "+(t||"")}function r(t){if(!o.isFunction(t))throw new n("Missing XMLHttpRequest factory method");this.createXhr=t}function a(){var t=new XMLHttpRequest;return"withCredentials"in t||(t=new XDomainRequest),t}var s=t("./urlUtils"),o=t("./utilityFunctions");n.prototype=new Error,n.prototype.name="HttpRequest Error",r.prototype.run=function(t,e,i,r){function a(){i(-1,null,null,"")}!function(t,e,i){if(!o.isString(t)||o.isEmptyString(t))throw new n("Invalid url '"+t+"'");if(!o.isFunction(e))throw new n("Invalid handler '"+e+"' for the http request");if(o.isDefined(i)&&!o.isObject(i))throw new n("Invalid options map '"+i+"'")}(e,i,r);var l,d,u=this.createXhr();r=r||{},l=o.isNumber(r.timeout)?r.timeout:0,u.open(t,s.urlParts(e).href,!0),r.headers&&function(t,e){o.forEach(e,function(e,i){o.isDefined(e)&&t.setRequestHeader(i,e)})}(u,r.headers),r.withCredentials&&(u.withCredentials=!0),u.onload=function(){var t,e,n;u.getAllResponseHeaders||(u.getAllResponseHeaders=function(){return null}),u.status||(u.status=200),o.isDefined(d)&&(clearTimeout(d),d=void 0),t=u.statusText||"",e="response"in u?u.response:u.responseText,n=1223===u.status?204:u.status,i(n,e,u.getAllResponseHeaders(),t)},u.onerror=a,u.onabort=a,u.send(),l>0&&(d=setTimeout(function(){u&&u.abort()},l))},r.prototype.get=function(t,e,i){function r(t,i,r,s){a(t)?e(null,i,t,r,s):e(new n(s),i,t,r,s)}function a(t){return 200<=t&&t<300}this.run("GET",t,r,i)};var l=new r(a);e.exports={http:l,HttpRequest:r,HttpRequestError:n,createXhr:a}},{"./urlUtils":46,"./utilityFunctions":47}],44:[function(t,e,i){"use strict";e.exports={html5:["text/javascript","text/javascript1.0","text/javascript1.2","text/javascript1.4","text/jscript","application/javascript","application/x-javascript","text/ecmascript","text/ecmascript1.0","text/ecmascript1.2","text/ecmascript1.4","text/livescript","application/ecmascript","application/x-ecmascript"],flash:["application/x-shockwave-flash"]}},{}],45:[function(t,e,i){"use strict";var n=t("./dom"),r=t("./utilityFunctions"),a={};a.getPlayerSnapshot=function(t){var e=t.el().querySelector(".vjs-tech"),i={ended:t.ended(),src:t.currentSrc(),currentTime:t.currentTime(),type:t.currentType(),playing:!t.paused(),suppressedTracks:function(t){var e=t.remoteTextTracks?t.remoteTextTracks():[];e&&r.isArray(e.tracks_)&&(e=e.tracks_),r.isArray(e)||(e=[]);var i=[];return e.forEach(function(t){i.push({track:t,mode:t.mode}),t.mode="disabled"}),i}(t)};return e&&(i.nativePoster=e.poster,i.style=e.getAttribute("style")),i},a.restorePlayerSnapshot=function(t,e){function i(){e.suppressedTracks.forEach(function(t){t.track.mode=t.mode})}function n(){if(!a.isReadyToResume(t)&&s--)setTimeout(n,50);else try{t.currentTime()!==e.currentTime?(e.playing&&t.one("seeked",function(){t.play()}),t.currentTime(e.currentTime)):e.playing&&t.play()}catch(t){videojs.log.warn("Failed to resume the content after an advertisement",t)}}var r=t.el().querySelector(".vjs-tech"),s=20;e.nativePoster&&(r.poster=e.nativePoster),"style"in e&&r.setAttribute("style",e.style||""),!function(t,e){return t.src()?t.src()!==e.src:t.currentSrc()!==e.src}(t,e)?(i(),e.playing&&t.play()):(t.one("contentloadedmetadata",i),t.one("canplay",n),function(){var e=setTimeout(function(){t.trigger("canplay")},1e3);t.one("canplay",function(){clearTimeout(e)})}(),t.src({src:e.src,type:e.type}),t.load())},a.isReadyToResume=function(t){return t.readyState()>1||(void 0===t.seekable()||t.seekable().length>0)},a.prepareForAds=function(t){function e(){return t.vast&&t.vast.adUnit}function i(){s()&&(v=!1,t.trigger("vast.firstPlay"))}function a(){v=!0,f.show(),l()}function s(){return v}function o(){return{muted:t.muted(),volume:t.volume()}}function l(){p&&(t.currentTime(0),d(p),p=null)}function d(e){r.isObject(e)&&(t.volume(e.volume),t.muted(e.muted))}function u(){n.hasClass(f.el(),"vjs-hidden")||f.hide()}function c(){n.addClass(t.el(),"vjs-ad-playing")}function h(){n.removeClass(t.el(),"vjs-ad-playing")}var p,f=t.addChild("blackPoster"),v=!0;!function(){var i=t.play;t.play=function(n){var a=this;return s()?function(){r.isIPhone()||(p=o(),t.muted(!0)),i.apply(a,arguments)}():function(n){e()&&!n?t.vast.adUnit.resumeAd():i.apply(a,arguments)}(n),this};var n=t.pause;t.pause=function(i){return e()&&!i?t.vast.adUnit.pauseAd():n.apply(this,arguments),this};var a=t.paused;t.paused=function(i){return e()&&!i?t.vast.adUnit.isPaused():a.apply(this,arguments)}}(),t.on("play",i),t.on("vast.reset",a),t.on("vast.firstPlay",l),t.on("error",u),t.on("vast.adStart",u),t.on("vast.adsCancel",u),t.on("vast.adError",u),t.on("vast.adStart",c),t.on("vast.adEnd",h),t.on("vast.adsCancel",h)},a.removeNativePoster=function(t){var e=t.el().querySelector(".vjs-tech");e&&e.removeAttribute("poster")},a.once=function(t,e,i){function n(){i.apply(null,arguments),e.forEach(function(e){t.off(e,n)})}e.forEach(function(e){t.on(e,n)})},e.exports=a},{"./dom":42,"./utilityFunctions":47}],46:[function(t,e,i){"use strict";function n(t){var e=t;return l&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:s.isNotEmptyString(o.port)?o.port:80,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}function r(t,e){var i,n;return e=s.isFunction(e)?e:function(){return!0},t=t.trim().replace(/^\?/,""),i=t.split("&"),n={},s.forEach(i,function(t){var i,r,a;""!==t&&(r=(i=t.split("="))[0],a=i[1],e(r,a)&&(n[r]=a))}),n}function a(t){var e=[];return s.forEach(t,function(t,i){e.push(i+"="+t)}),e.join("&")}var s=t("./utilityFunctions"),o=document.createElement("a"),l=document.documentMode;e.exports={urlParts:n,queryStringToObj:r,objToQueryString:a}},{"./utilityFunctions":47}],47:[function(t,e,i){"use strict";function n(){}function r(t){return null===t}function a(t){return void 0!==t}function s(t){return void 0===t}function o(t){return"object"==typeof t}function l(t){return"function"==typeof t}function d(t){return"number"==typeof t}function u(t){return j.isObject(t)&&t.window===t}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function h(t){if(null===t||j.isWindow(t)||j.isFunction(t)||j.isUndefined(t))return!1;var e=t.length;return!(t.nodeType!==U||!e)||(j.isString(t)||j.isArray(t)||0===e||"number"==typeof e&&e>0&&e-1 in t)}function p(t){return"string"==typeof t}function f(t){return j.isString(t)&&0===t.length}function v(t){return j.isString(t)&&0!==t.length}function g(t){return Array.prototype.slice.call(t)}function y(t,e,i){var n,r;if(t)if(l(t))for(n in t)"prototype"===n||"length"===n||"name"===n||t.hasOwnProperty&&!t.hasOwnProperty(n)||e.call(i,t[n],n,t);else if(c(t)){var a="object"!=typeof t;for(n=0,r=t.length;n<r;n++)(a||n in t)&&e.call(i,t[n],n,t)}else if(t.forEach&&t.forEach!==y)t.forEach(e,i,t);else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t);return t}function A(t,e){return e=e||"_",t.replace(O,function(t,i){return(i?e:"")+t.toLowerCase()})}function m(t){return!!j.isString(t)&&x.test(t.trim())}function T(t){var e,i,n;for(i=1;i<arguments.length;i++){e=arguments[i];for(n in e)e.hasOwnProperty(n)&&(o(t[n])&&!r(t[n])&&o(e[n])?t[n]=T({},t[n],e[n]):t[n]=e[n])}return t}function E(t){return t.charAt(0).toUpperCase()+t.slice(1)}function b(t){return t.charAt(0).toLowerCase()+t.slice(1)}function w(t,e){var i=[];return t.forEach(function(t,n){var r=e(t,n);j.isDefined(r)&&i.push(r)}),i}function k(t,e){var i=t+"";if(e=j.isNumber(e)?e:0,t=j.isNumber(t)?t:parseInt(t,10),j.isNumber(t)&&!isNaN(t)){for(i=t+"";i.length<e;)i="0"+i;return i}return"NaN"}function _(t,e){var i=(new Date).getTime()-(e+1);return function(){var n=(new Date).getTime();n-i>=e&&(i=n,t.apply(this,arguments))}}function C(t,e){var i;return function(){i&&clearTimeout(i),i=setTimeout(function(){t.apply(this,arguments),i=void 0},e)}}function S(t,e,i){for(var n=e(t),r=0;r<n.length;r++){if(i(n[r]))return n[r];var a=S(n[r],e,i);if(a)return a}}function D(t){return function(){return t}}function I(t){return j.isNumber(t)&&(t+=""),!!j.isString(t)&&N.test(t.trim())}function L(){var t=j.getInternetExplorerVersion(navigator);return-1!==t&&t<10}function P(t){var e=-1;if("Microsoft Internet Explorer"==t.appName){var i=t.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i);null!==n&&(e=parseFloat(n[1]))}return e}function V(){return/iP(hone|ad)/.test(j._UA)}function M(){return/iP(hone|ad|od)|Android|Windows Phone/.test(j._UA)}function R(){return/iP(hone|od)/.test(j._UA)}function F(){return/Android/.test(j._UA)}var U=1,O=/[A-Z]/g,x=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i,N=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,j={_UA:navigator.userAgent,noop:n,isNull:r,isDefined:a,isUndefined:s,isObject:o,isFunction:l,isNumber:d,isWindow:u,isArray:c,isArrayLike:h,isString:p,isEmptyString:f,isNotEmptyString:v,arrayLikeObjToArray:g,forEach:y,snake_case:A,isValidEmail:m,extend:T,capitalize:E,decapitalize:b,transformArray:w,toFixedDigits:k,throttle:_,debounce:C,treeSearch:S,echoFn:D,isISO8601:I,isOldIE:L,getInternetExplorerVersion:P,isIDevice:V,isMobile:M,isIPhone:R,isAndroid:F};e.exports=j},{}],48:[function(t,e,i){"use strict";var n=t("./utilityFunctions"),r={};r.strToXMLDoc=function(t){function e(t){try{var e=(new DOMParser).parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI;return"http://www.w3.org/1999/xhtml"===e?t.getElementsByTagName("parsererror").length>0:t.getElementsByTagNameNS(e,"parsererror").length>0}catch(t){}}if(void 0===window.DOMParser){var i=new ActiveXObject("Microsoft.XMLDOM");return i.async=!1,i.loadXML(t),i}return function(t){var i,r=new DOMParser;try{if(i=r.parseFromString(t,"application/xml"),e(i)||n.isEmptyString(t))throw new Error}catch(e){throw new Error("xml.strToXMLDOC: Error parsing the string: '"+t+"'")}return i}(t)},r.parseText=function(t){return/^\s*$/.test(t)?null:/^(?:true|false)$/i.test(t)?"true"===t.toLowerCase():isFinite(t)?parseFloat(t):n.isISO8601(t)?new Date(t):t.trim()},r.JXONTree=function(t){var e=r.parseText;if(t.documentElement)return new r.JXONTree(t.documentElement);if(t.hasChildNodes()){for(var i,a,s,o="",l=0;l<t.childNodes.length;l++)3==((i=t.childNodes.item(l)).nodeType-1|1)?o+=3===i.nodeType?i.nodeValue.trim():i.nodeValue:1!==i.nodeType||i.prefix||(a=n.decapitalize(i.nodeName),s=new r.JXONTree(i),this.hasOwnProperty(a)?(this[a].constructor!==Array&&(this[a]=[this[a]]),this[a].push(s)):this[a]=s);o&&(this.keyValue=e(o))}if(void 0===t.hasAttributes?t.attributes.length>0:t.hasAttributes())for(var d,u=0;u<t.attributes.length;u++)d=t.attributes.item(u),this["@"+n.decapitalize(d.name)]=e(d.value.trim())},r.JXONTree.prototype.attr=function(t){return this["@"+n.decapitalize(t)]},r.toJXONTree=function(t){var e=r.strToXMLDoc(t);return new r.JXONTree(e)},r.keyValue=function(t){if(t)return t.keyValue},r.attr=function(t,e){if(t)return t["@"+n.decapitalize(e)]},r.encode=function(t){if(n.isString(t))return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},r.decode=function(t){if(n.isString(t))return t.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")},e.exports=r},{"./utilityFunctions":47}],49:[function(t,e,i){"use strict";t("./plugin/components/ads-label_5"),t("./plugin/components/black-poster_5");var n=t("./plugin/videojs.vast.vpaid");videojs.plugin("vastClient",n)},{"./plugin/components/ads-label_5":36,"./plugin/components/black-poster_5":38,"./plugin/videojs.vast.vpaid":39}]},{},[49]),function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.returnExports=e()}(this,function(){var t,e=Array,i=e.prototype,n=Object,r=n.prototype,a=Function,s=a.prototype,o=String,l=o.prototype,d=Number,u=d.prototype,c=i.slice,h=i.splice,p=i.push,f=i.unshift,v=i.concat,g=i.join,y=s.call,A=s.apply,m=Math.max,T=Math.min,E=r.toString,b="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,w=Function.prototype.toString,k=/^\s*class /,_=function(t){try{var e=w.call(t).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return k.test(e)}catch(t){return!1}},C=function(t){try{return!_(t)&&(w.call(t),!0)}catch(t){return!1}},S=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(b)return C(t);if(_(t))return!1;var e=E.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e},D=RegExp.prototype.exec,I=function(t){try{return D.call(t),!0}catch(t){return!1}};t=function(t){return"object"==typeof t&&(b?I(t):"[object RegExp]"===E.call(t))};var L,P=String.prototype.valueOf,V=function(t){try{return P.call(t),!0}catch(t){return!1}};L=function(t){return"string"==typeof t||"object"==typeof t&&(b?V(t):"[object String]"===E.call(t))};var M=n.defineProperty&&function(){try{var t={};n.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(t){return!1}}(),R=function(t){var e;return e=M?function(t,e,i,r){!r&&e in t||n.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:i})}:function(t,e,i,n){!n&&e in t||(t[e]=i)},function(i,n,r){for(var a in n)t.call(n,a)&&e(i,a,n[a],r)}}(r.hasOwnProperty),F=function(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e},U=d.isNaN||function(t){return t!==t},O={ToInteger:function(t){var e=+t;return U(e)?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},ToPrimitive:function(t){var e,i,n;if(F(t))return t;if(i=t.valueOf,S(i)&&(e=i.call(t),F(e)))return e;if(n=t.toString,S(n)&&(e=n.call(t),F(e)))return e;throw new TypeError},ToObject:function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return n(t)},ToUint32:function(t){return t>>>0}},x=function(){};R(s,{bind:function(t){var e=this;if(!S(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var i,r=c.call(arguments,1),s=function(){if(this instanceof i){var a=A.call(e,this,v.call(r,c.call(arguments)));return n(a)===a?a:this}return A.call(e,t,v.call(r,c.call(arguments)))},o=m(0,e.length-r.length),l=[],d=0;d<o;d++)p.call(l,"$"+d);return i=a("binder","return function ("+g.call(l,",")+"){ return binder.apply(this, arguments); }")(s),e.prototype&&(x.prototype=e.prototype,i.prototype=new x,x.prototype=null),i}});var N=y.bind(r.hasOwnProperty),j=y.bind(r.toString),H=y.bind(c),B=A.bind(c),W=y.bind(l.slice),z=y.bind(l.split),q=y.bind(l.indexOf),Q=y.bind(p),G=y.bind(r.propertyIsEnumerable),X=y.bind(i.sort),$=e.isArray||function(t){return"[object Array]"===j(t)},J=1!==[].unshift(0);R(i,{unshift:function(){return f.apply(this,arguments),this.length}},J),R(e,{isArray:$});var K=n("a"),Y="a"!==K[0]||!(0 in K),Z=function(t){var e=!0,i=!0,n=!1;if(t)try{t.call("foo",function(t,i,n){"object"!=typeof n&&(e=!1)}),t.call([1],function(){"use strict";i="string"==typeof this},"x")}catch(t){n=!0}return!!t&&!n&&e&&i};R(i,{forEach:function(t){var e,i=O.ToObject(this),n=Y&&L(this)?z(this,""):i,r=-1,a=O.ToUint32(n.length);if(arguments.length>1&&(e=arguments[1]),!S(t))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++r<a;)r in n&&(void 0===e?t(n[r],r,i):t.call(e,n[r],r,i))}},!Z(i.forEach)),R(i,{map:function(t){var i,n=O.ToObject(this),r=Y&&L(this)?z(this,""):n,a=O.ToUint32(r.length),s=e(a);if(arguments.length>1&&(i=arguments[1]),!S(t))throw new TypeError("Array.prototype.map callback must be a function");for(var o=0;o<a;o++)o in r&&(s[o]=void 0===i?t(r[o],o,n):t.call(i,r[o],o,n));return s}},!Z(i.map)),R(i,{filter:function(t){var e,i,n=O.ToObject(this),r=Y&&L(this)?z(this,""):n,a=O.ToUint32(r.length),s=[];if(arguments.length>1&&(i=arguments[1]),!S(t))throw new TypeError("Array.prototype.filter callback must be a function");for(var o=0;o<a;o++)o in r&&(e=r[o],(void 0===i?t(e,o,n):t.call(i,e,o,n))&&Q(s,e));return s}},!Z(i.filter)),R(i,{every:function(t){var e,i=O.ToObject(this),n=Y&&L(this)?z(this,""):i,r=O.ToUint32(n.length);if(arguments.length>1&&(e=arguments[1]),!S(t))throw new TypeError("Array.prototype.every callback must be a function");for(var a=0;a<r;a++)if(a in n&&!(void 0===e?t(n[a],a,i):t.call(e,n[a],a,i)))return!1;return!0}},!Z(i.every)),R(i,{some:function(t){var e,i=O.ToObject(this),n=Y&&L(this)?z(this,""):i,r=O.ToUint32(n.length);if(arguments.length>1&&(e=arguments[1]),!S(t))throw new TypeError("Array.prototype.some callback must be a function");for(var a=0;a<r;a++)if(a in n&&(void 0===e?t(n[a],a,i):t.call(e,n[a],a,i)))return!0;return!1}},!Z(i.some));var tt=!1;i.reduce&&(tt="object"==typeof i.reduce.call("es5",function(t,e,i,n){return n})),R(i,{reduce:function(t){var e=O.ToObject(this),i=Y&&L(this)?z(this,""):e,n=O.ToUint32(i.length);if(!S(t))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===n&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,a=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(a in i){r=i[a++];break}if(++a>=n)throw new TypeError("reduce of empty array with no initial value")}for(;a<n;a++)a in i&&(r=t(r,i[a],a,e));return r}},!tt);var et=!1;i.reduceRight&&(et="object"==typeof i.reduceRight.call("es5",function(t,e,i,n){return n})),R(i,{reduceRight:function(t){var e=O.ToObject(this),i=Y&&L(this)?z(this,""):e,n=O.ToUint32(i.length);if(!S(t))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===n&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,a=n-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(a in i){r=i[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}if(a<0)return r;do{a in i&&(r=t(r,i[a],a,e))}while(a--);return r}},!et);var it=i.indexOf&&-1!==[0,1].indexOf(1,2);R(i,{indexOf:function(t){var e=Y&&L(this)?z(this,""):O.ToObject(this),i=O.ToUint32(e.length);if(0===i)return-1;var n=0;for(arguments.length>1&&(n=O.ToInteger(arguments[1])),n=n>=0?n:m(0,i+n);n<i;n++)if(n in e&&e[n]===t)return n;return-1}},it);var nt=i.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);R(i,{lastIndexOf:function(t){var e=Y&&L(this)?z(this,""):O.ToObject(this),i=O.ToUint32(e.length);if(0===i)return-1;var n=i-1;for(arguments.length>1&&(n=T(n,O.ToInteger(arguments[1]))),n=n>=0?n:i-Math.abs(n);n>=0;n--)if(n in e&&t===e[n])return n;return-1}},nt);var rt=function(){var t=[1,2],e=t.splice();return 2===t.length&&$(e)&&0===e.length}();R(i,{splice:function(t,e){return 0===arguments.length?[]:h.apply(this,arguments)}},!rt);var at=function(){var t={};return i.splice.call(t,0,0,1),1===t.length}();R(i,{splice:function(t,e){if(0===arguments.length)return[];var i=arguments;return this.length=m(O.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof e&&((i=H(arguments)).length<2?Q(i,this.length-t):i[1]=O.ToInteger(e)),h.apply(this,i)}},!at);var st=function(){var t=new e(1e5);return t[8]="x",t.splice(1,1),7===t.indexOf("x")}(),ot=function(){var t=[];return t[256]="a",t.splice(257,0,"b"),"a"===t[256]}();R(i,{splice:function(t,e){for(var i,n=O.ToObject(this),r=[],a=O.ToUint32(n.length),s=O.ToInteger(t),l=s<0?m(a+s,0):T(s,a),d=T(m(O.ToInteger(e),0),a-l),u=0;u<d;)i=o(l+u),N(n,i)&&(r[u]=n[i]),u+=1;var c,h=H(arguments,2),p=h.length;if(p<d){u=l;for(var f=a-d;u<f;)i=o(u+d),c=o(u+p),N(n,i)?n[c]=n[i]:delete n[c],u+=1;u=a;for(var v=a-d+p;u>v;)delete n[u-1],u-=1}else if(p>d)for(u=a-d;u>l;)i=o(u+d-1),c=o(u+p-1),N(n,i)?n[c]=n[i]:delete n[c],u-=1;u=l;for(var g=0;g<h.length;++g)n[u]=h[g],u+=1;return n.length=a-d+p,r}},!st||!ot);var lt,dt=i.join;try{lt="1,2,3"!==Array.prototype.join.call("123",",")}catch(t){lt=!0}lt&&R(i,{join:function(t){var e=void 0===t?",":t;return dt.call(L(this)?z(this,""):this,e)}},lt);var ut="1,2"!==[1,2].join(void 0);ut&&R(i,{join:function(t){var e=void 0===t?",":t;return dt.call(this,e)}},ut);var ct=function(t){for(var e=O.ToObject(this),i=O.ToUint32(e.length),n=0;n<arguments.length;)e[i+n]=arguments[n],n+=1;return e.length=i+n,i+n},ht=function(){var t={};return 1!==Array.prototype.push.call(t,void 0)||1!==t.length||void 0!==t[0]||!N(t,0)}();R(i,{push:function(t){return $(this)?p.apply(this,arguments):ct.apply(this,arguments)}},ht);var pt=function(){var t=[];return 1!==t.push(void 0)||1!==t.length||void 0!==t[0]||!N(t,0)}();R(i,{push:ct},pt),R(i,{slice:function(t,e){var i=L(this)?z(this,""):this;return B(i,arguments)}},Y);var ft=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(t){}return!1}(),vt=function(){try{return[1,2].sort(/a/),!1}catch(t){}return!0}(),gt=function(){try{return[1,2].sort(void 0),!0}catch(t){}return!1}();R(i,{sort:function(t){if(void 0===t)return X(this);if(!S(t))throw new TypeError("Array.prototype.sort callback must be a function");return X(this,t)}},ft||!gt||!vt);var yt=!G({toString:null},"toString"),At=G(function(){},"prototype"),mt=!N("x","0"),Tt=function(t){var e=t.constructor;return e&&e.prototype===t},Et={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},bt=function(){if("undefined"==typeof window)return!1;for(var t in window)try{!Et["$"+t]&&N(window,t)&&null!==window[t]&&"object"==typeof window[t]&&Tt(window[t])}catch(t){return!0}return!1}(),wt=function(t){if("undefined"==typeof window||!bt)return Tt(t);try{return Tt(t)}catch(t){return!1}},kt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],_t=kt.length,Ct=function(t){return"[object Arguments]"===j(t)},St=function(t){return null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&!$(t)&&S(t.callee)},Dt=Ct(arguments)?Ct:St;R(n,{keys:function(t){var e=S(t),i=Dt(t),n=null!==t&&"object"==typeof t,r=n&&L(t);if(!n&&!e&&!i)throw new TypeError("Object.keys called on a non-object");var a=[],s=At&&e;if(r&&mt||i)for(var l=0;l<t.length;++l)Q(a,o(l));if(!i)for(var d in t)s&&"prototype"===d||!N(t,d)||Q(a,o(d));if(yt)for(var u=wt(t),c=0;c<_t;c++){var h=kt[c];u&&"constructor"===h||!N(t,h)||Q(a,h)}return a}});var It=n.keys&&function(){return 2===n.keys(arguments).length}(1,2),Lt=n.keys&&function(){var t=n.keys(arguments);return 1!==arguments.length||1!==t.length||1!==t[0]}(1),Pt=n.keys;R(n,{keys:function(t){return Pt(Dt(t)?H(t):t)}},!It||Lt);var Vt,Mt,Rt=0!==new Date(-0xc782b5b342b24).getUTCMonth(),Ft=new Date(-0x55d318d56a724),Ut=new Date(14496624e5),Ot="Mon, 01 Jan -45875 11:59:59 GMT"!==Ft.toUTCString();Ft.getTimezoneOffset()<-720?(Vt="Tue Jan 02 -45875"!==Ft.toDateString(),Mt=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Ut.toString())):(Vt="Mon Jan 01 -45875"!==Ft.toDateString(),Mt=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Ut.toString()));var xt=y.bind(Date.prototype.getFullYear),Nt=y.bind(Date.prototype.getMonth),jt=y.bind(Date.prototype.getDate),Ht=y.bind(Date.prototype.getUTCFullYear),Bt=y.bind(Date.prototype.getUTCMonth),Wt=y.bind(Date.prototype.getUTCDate),zt=y.bind(Date.prototype.getUTCDay),qt=y.bind(Date.prototype.getUTCHours),Qt=y.bind(Date.prototype.getUTCMinutes),Gt=y.bind(Date.prototype.getUTCSeconds),Xt=y.bind(Date.prototype.getUTCMilliseconds),$t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Jt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Kt=function(t,e){return jt(new Date(e,t,0))};R(Date.prototype,{getFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=xt(this);return t<0&&Nt(this)>11?t+1:t},getMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=xt(this),e=Nt(this);return t<0&&e>11?0:e},getDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=xt(this),e=Nt(this),i=jt(this);return t<0&&e>11?12===e?i:Kt(0,t+1)-i+1:i},getUTCFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Ht(this);return t<0&&Bt(this)>11?t+1:t},getUTCMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Ht(this),e=Bt(this);return t<0&&e>11?0:e},getUTCDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Ht(this),e=Bt(this),i=Wt(this);return t<0&&e>11?12===e?i:Kt(0,t+1)-i+1:i}},Rt),R(Date.prototype,{toUTCString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=zt(this),e=Wt(this),i=Bt(this),n=Ht(this),r=qt(this),a=Qt(this),s=Gt(this);return $t[t]+", "+(e<10?"0"+e:e)+" "+Jt[i]+" "+n+" "+(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)+":"+(s<10?"0"+s:s)+" GMT"}},Rt||Ot),R(Date.prototype,{toDateString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),i=this.getMonth(),n=this.getFullYear();return $t[t]+" "+Jt[i]+" "+(e<10?"0"+e:e)+" "+n}},Rt||Vt),(Rt||Mt)&&(Date.prototype.toString=function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),i=this.getMonth(),n=this.getFullYear(),r=this.getHours(),a=this.getMinutes(),s=this.getSeconds(),o=this.getTimezoneOffset(),l=Math.floor(Math.abs(o)/60),d=Math.floor(Math.abs(o)%60);return $t[t]+" "+Jt[i]+" "+(e<10?"0"+e:e)+" "+n+" "+(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)+":"+(s<10?"0"+s:s)+" GMT"+(o>0?"-":"+")+(l<10?"0"+l:l)+(d<10?"0"+d:d)},M&&n.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var Yt=Date.prototype.toISOString&&-1===new Date(-621987552e5).toISOString().indexOf("-000001"),Zt=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),te=y.bind(Date.prototype.getTime);R(Date.prototype,{toISOString:function(){if(!isFinite(this)||!isFinite(te(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var t=Ht(this),e=Bt(this);t+=Math.floor(e/12);var i=[(e=(e%12+12)%12)+1,Wt(this),qt(this),Qt(this),Gt(this)];t=(t<0?"-":t>9999?"+":"")+W("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var n=0;n<i.length;++n)i[n]=W("00"+i[n],-2);return t+"-"+H(i,0,2).join("-")+"T"+H(i,2).join(":")+"."+W("000"+Xt(this),-3)+"Z"}},Yt||Zt),function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(-621987552e5).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(t){return!1}}()||(Date.prototype.toJSON=function(t){var e=n(this),i=O.ToPrimitive(e);if("number"==typeof i&&!isFinite(i))return null;var r=e.toISOString;if(!S(r))throw new TypeError("toISOString property is not callable");return r.call(e)});var ee=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),ie=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));if(isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||ie||!ee){var ne=Math.pow(2,31)-1,re=U(new Date(1970,0,1,0,0,0,ne+1).getTime());Date=function(t){var e=function(i,n,r,a,s,l,d){var u,c=arguments.length;if(this instanceof t){var h=l,p=d;if(re&&c>=7&&d>ne){var f=Math.floor(d/ne)*ne,v=Math.floor(f/1e3);h+=v,p-=1e3*v}u=1===c&&o(i)===i?new t(e.parse(i)):c>=7?new t(i,n,r,a,s,h,p):c>=6?new t(i,n,r,a,s,h):c>=5?new t(i,n,r,a,s):c>=4?new t(i,n,r,a):c>=3?new t(i,n,r):c>=2?new t(i,n):c>=1?new t(i instanceof t?+i:i):new t}else u=t.apply(this,arguments);return F(u)||R(u,{constructor:e},!0),u},i=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),n=[0,31,59,90,120,151,181,212,243,273,304,334,365],r=function(t,e){var i=e>1?1:0;return n[e]+Math.floor((t-1969+i)/4)-Math.floor((t-1901+i)/100)+Math.floor((t-1601+i)/400)+365*(t-1970)},a=function(e){var i=0,n=e;if(re&&n>ne){var r=Math.floor(n/ne)*ne,a=Math.floor(r/1e3);i+=a,n-=1e3*a}return d(new t(1970,0,1,0,0,i,n))};for(var s in t)N(t,s)&&(e[s]=t[s]);return R(e,{now:t.now,UTC:t.UTC},!0),e.prototype=t.prototype,R(e.prototype,{constructor:e},!0),R(e,{parse:function(e){var n=i.exec(e);if(n){var s,o=d(n[1]),l=d(n[2]||1)-1,u=d(n[3]||1)-1,c=d(n[4]||0),h=d(n[5]||0),p=d(n[6]||0),f=Math.floor(1e3*d(n[7]||0)),v=Boolean(n[4]&&!n[8]),g="-"===n[9]?1:-1,y=d(n[10]||0),A=d(n[11]||0);return c<(h>0||p>0||f>0?24:25)&&h<60&&p<60&&f<1e3&&l>-1&&l<12&&y<24&&A<60&&u>-1&&u<r(o,l+1)-r(o,l)&&(s=60*(24*(r(o,l)+u)+c+y*g),s=1e3*(60*(s+h+A*g)+p)+f,v&&(s=a(s)),-864e13<=s&&s<=864e13)?s:NaN}return t.parse.apply(this,arguments)}}),e}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var ae=u.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),se={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(t,e){for(var i=-1,n=e;++i<se.size;)n+=t*se.data[i],se.data[i]=n%se.base,n=Math.floor(n/se.base)},divide:function(t){for(var e=se.size,i=0;--e>=0;)i+=se.data[e],se.data[e]=Math.floor(i/t),i=i%t*se.base},numToString:function(){for(var t=se.size,e="";--t>=0;)if(""!==e||0===t||0!==se.data[t]){var i=o(se.data[t]);""===e?e=i:e+=W("0000000",0,7-i.length)+i}return e},pow:function t(e,i,n){return 0===i?n:i%2==1?t(e,i-1,n*e):t(e*e,i/2,n)},log:function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}};R(u,{toFixed:function(t){var e,i,n,r,a,s,l,u;if(e=d(t),(e=U(e)?0:Math.floor(e))<0||e>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(i=d(this),U(i))return"NaN";if(i<=-1e21||i>=1e21)return o(i);if(n="",i<0&&(n="-",i=-i),r="0",i>1e-21)if(a=se.log(i*se.pow(2,69,1))-69,s=a<0?i*se.pow(2,-a,1):i/se.pow(2,a,1),s*=4503599627370496,(a=52-a)>0){for(se.multiply(0,s),l=e;l>=7;)se.multiply(1e7,0),l-=7;for(se.multiply(se.pow(10,l,1),0),l=a-1;l>=23;)se.divide(1<<23),l-=23;se.divide(1<<l),se.multiply(1,1),se.divide(2),r=se.numToString()}else se.multiply(0,s),se.multiply(1<<-a,0),r=se.numToString()+W("0.00000000000000000000",2,2+e);return r=e>0?(u=r.length)<=e?n+W("0.0000000000000000000",0,e-u+2)+r:n+W(r,0,u-e)+"."+W(r,u-e):n+r}},ae);var oe=function(){try{return"1"===1..toPrecision(void 0)}catch(t){return!0}}(),le=u.toPrecision;R(u,{toPrecision:function(t){return void 0===t?le.call(this):le.call(this,t)}},oe),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=void 0===/()??/.exec("")[1],i=Math.pow(2,32)-1;l.split=function(n,r){var a=String(this);if(void 0===n&&0===r)return[];if(!t(n))return z(this,n,r);var s,o,l,d,u=[],c=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),h=0,f=new RegExp(n.source,c+"g");e||(s=new RegExp("^"+f.source+"$(?!\\s)",c));var v=void 0===r?i:O.ToUint32(r);for(o=f.exec(a);o&&!((l=o.index+o[0].length)>h&&(Q(u,W(a,h,o.index)),!e&&o.length>1&&o[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(o[t]=void 0)}),o.length>1&&o.index<a.length&&p.apply(u,H(o,1)),d=o[0].length,h=l,u.length>=v));)f.lastIndex===o.index&&f.lastIndex++,o=f.exec(a);return h===a.length?!d&&f.test("")||Q(u,""):Q(u,W(a,h)),u.length>v?H(u,0,v):u}}():"0".split(void 0,0).length&&(l.split=function(t,e){return void 0===t&&0===e?[]:z(this,t,e)});var de=l.replace;(function(){var t=[];return"x".replace(/x(.)?/g,function(e,i){Q(t,i)}),1===t.length&&void 0===t[0]})()||(l.replace=function(e,i){var n=S(i),r=t(e)&&/\)[*?]/.test(e.source);if(n&&r){var a=function(t){var n=arguments.length,r=e.lastIndex;e.lastIndex=0;var a=e.exec(t)||[];return e.lastIndex=r,Q(a,arguments[n-2],arguments[n-1]),i.apply(this,a)};return de.call(this,e,a)}return de.call(this,e,i)});var ue=l.substr,ce="".substr&&"b"!=="0b".substr(-1);R(l,{substr:function(t,e){var i=t;return t<0&&(i=m(this.length+t,0)),ue.call(this,i,e)}},ce);var he="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",pe="["+he+"]",fe=new RegExp("^"+pe+pe+"*"),ve=new RegExp(pe+pe+"*$"),ge=l.trim&&(he.trim()||!"​".trim());R(l,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return o(this).replace(fe,"").replace(ve,"")}},ge);var ye=y.bind(String.prototype.trim),Ae=l.lastIndexOf&&-1!=="abcあい".lastIndexOf("あい",2);R(l,{lastIndexOf:function(t){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");for(var e=o(this),i=o(t),n=arguments.length>1?d(arguments[1]):NaN,r=U(n)?1/0:O.ToInteger(n),a=T(m(r,0),e.length),s=i.length,l=a+s;l>0;){l=m(0,l-s);var u=q(W(e,l,a+s),i);if(-1!==u)return l+u}return-1}},Ae);var me=l.lastIndexOf;if(R(l,{lastIndexOf:function(t){return me.apply(this,arguments)}},1!==l.lastIndexOf.length),8===parseInt(he+"08")&&22===parseInt(he+"0x16")||(parseInt=function(t){var e=/^[\-+]?0[xX]/;return function(i,n){var r=ye(String(i)),a=d(n)||(e.test(r)?16:10);return t(r,a)}}(parseInt)),1/parseFloat("-0")!=-1/0&&(parseFloat=function(t){return function(e){var i=ye(String(e)),n=t(i);return 0===n&&"-"===W(i,0,1)?-0:n}}(parseFloat)),"RangeError: test"!==String(new RangeError("test"))){var Te=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");var t=this.name;void 0===t?t="Error":"string"!=typeof t&&(t=o(t));var e=this.message;return void 0===e?e="":"string"!=typeof e&&(e=o(e)),t?e?t+": "+e:t:e};Error.prototype.toString=Te}if(M){var Ee=function(t,e){if(G(t,e)){var i=Object.getOwnPropertyDescriptor(t,e);i.configurable&&(i.enumerable=!1,Object.defineProperty(t,e,i))}};Ee(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),Ee(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var be=function(){var t="/"+this.source+"/";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),t};RegExp.prototype.toString=be}}),function(){function t(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e);null!==i&&(t=parseFloat(i[1]))}return t}function e(t){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}if(function(){var e=t();return-1!==e&&e<9}()){if(Object.videoVastMonkeyPatched)return;!function(){var t=Object.defineProperty;Object.defineProperty=function(i,n,r){if(e(i))return t(i,n,r);if(r.get||r.set)throw new Error("browser doesn't support getters and setters");i[n]=r.value}}(),Object.getOwnPropertyNames=function(t){var e,i=[],n=["length","name","arguments","caller","prototype","observe","unobserve"];if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);for(var r=0,a=n.length;r<a;r++)n[r]in t&&i.push(n[r]);return i},function(){var t=Object.getOwnPropertyDescriptor;Object.getOwnPropertyDescriptor=function(i,n){return e(i)?t(i,n):{writable:!0,configurable:!0,enumerable:!1,value:i[n]}}}(),Object.videoVastMonkeyPatched=!0}"function"!=typeof Object.create&&(Object.create=function(){function t(){}var e=Object.prototype.hasOwnProperty;return function(i){if("object"!=typeof i)throw new TypeError("Object prototype may only be an Object or null");t.prototype=i;var n=new t;if(t.prototype=null,arguments.length>1){var r=Object(arguments[1]);for(var a in r)e.call(r,a)&&(n[a]=r[a])}return n}}()),"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(t){return t.__proto__}:function(t){return t.constructor.prototype})}();var pgads={};pgads.AdsRequest=function(){this.adTagUrl,this.adsResponse,this.forceNonLinearFullSlot,this.linearAdSlotWidth,this.linearAdSlotHeight,this.nonLinearAdSlotWidth,this.nonLinearAdSlotHeight},pgads.ViewMode={NORMAL:"normal",THUMBNAIL:"thumbnail",FULLSCREEN:"fullscreen"},pgads.AdType={VPAID:"application/javascript",VAST:"video/mp4"},pgads.PGVideoAdQuartile={PGVideoAdQuartileFirst:0,PGVideoAdQuartileSecond:1,PGVideoAdQuartileThird:2,PGVideoAdQuartileFourth:3},pgads.AdErrorEvent=function(t){this.errorMsg=t,this.getError=function(){return this.errorMsg}},pgads.AdEventInfo=function(t,e){this.type=t,this.error="",this.adsManager=e,this.setError=function(t){this.error=t},this.getError=function(){return this.error},this.getAd=function(){return this.adsManager.adPodInfo[0]},this.isInline=function(){return!!this.adsManager.adPodInfo[0].inline},this.isLinear=function(){return this.adsManager.vastResponse.hasLinear()},this.getAdPosition=function(){return 0},this.getPodIndex=function(){return 0},this.getTotalAds=function(){return this.adsManager.adPodInfo.length},this.getContentType=function(){return void 0!==this.adsManager.vastResponse?e.isVPAID()?"application/javascript":"video/mp4":"application/javascript"},this.getClickThruUrl=function(){return this.adsManager.vastResponse.clickThrough}},pgads.AdEvent={},pgads.AdEvent.Type={ALL_ADS_COMPLETED:"",CLICK:"AdClickThru",COMPLETE:"AdVideoComplete",FIRST_QUARTILE:"AdVideoFirstQuartile",LOADED:"AdLoaded",MIDPOINT:"AdVideoMidpoint",PAUSED:"AdPaused",STARTED:"AdVideoStart",THIRD_QUARTILE:"AdVideoThirdQuartile",AD_BREAK_READY:"",SKIPPED:"AdSkipped",CONTENT_PAUSE_REQUESTED:"pause",CONTENT_RESUME_REQUESTED:"seeked",AD_ERROR:"AdError",ADS_MANAGER_LOADED:"AdsManagerLoaded",STOPPED:"AdStopped",FULLSCREEN:"fullscreenchange",LOAD_META_DATA:"loadmetadata",VAST_EMPTY_RESPONSE_ERROR:"VAST_EMPTY_RESPONSE_ERROR",VAST_INVALID_TAG_ERROR:"VAST_INVALID_TAG_ERROR",AD_PLAYING:"AdPlaying"},pgads.AdsManager=function(t){this.player=t,this.adsManagerLoaderEvents=[],this.volume=0,this.width=0,this.height=0,this.viewMode=pgads.ViewMode.NORMAL,this.vastResponse,this.adPodInfo,this.currentPlayerTime,this.adCompleted,this.adPaused=!1;var e=this;this.currentQuartileToBeSend=pgads.PGVideoAdQuartile.PGVideoAdQuartileFirst,this.init=function(t,e,i){this.width=t,this.height=e,this.viewMode=i},this.setVolume=function(t){this.volume=t,this.player.volume(t)},this.getRemainingTime=function(){return this.player.duration()-this.player.currentTime()},this.getDuration=function(){return this.player.duration()},this.resize=function(t,e,i){},this.addEventListener=function(t,e){this.adsManagerLoaderEvents.push({key:t,value:e})},this.start=function(){},this.resume=function(){1==this.adCompleted?e.player.play():e.player.vast.adUnit.resumeAd()},this.destroy=function(){},this.pause=function(){1==this.adCompleted?e.player.pause():e.player.vast.adUnit.pauseAd()},this.getClickThruUrl=function(){return e.vastResponse.clickThrough},this.player.on("pause",function(){e.sendCallback(pgads.AdEvent.Type.CONTENT_PAUSE_REQUESTED),e.player.off("pause")}),this.player.on("vpaid.AdPlaying",function(){e.adPaused&&e.sendCallback(pgads.AdEvent.Type.AD_PLAYING)}),this.player.on("loadedmetadata",function(){e.sendCallback(pgads.AdEvent.Type.LOAD_META_DATA)}),this.player.on("error",function(){e.sendCallback(pgads.AdEvent.Type.AD_ERROR)}),this.player.on("ended",function(){}),this.player.on("fullscreenchange",function(){e.sendCallback(pgads.AdEvent.Type.FULLSCREEN)}),this.player.on("vpaid.AdClickThru",function(){e.sendCallback(pgads.AdEvent.Type.CLICK)}),this.player.on("vpaid.AdLoaded",function(){alert("adloaded"),e.sendCallback(pgads.AdEvent.Type.LOADED)}),this.player.on("vpaid.AdSkipped",function(){e.sendCallback(pgads.AdEvent.Type.SKIPPED)}),this.player.on("vpaid.AdStarted",function(){this.vast.vastResponse,e.vastResponse=this.vast.vastResponse,this.vast.vastResponse.ads,e.adPodInfo=this.vast.vastResponse.ads,e.sendCallback(pgads.AdEvent.Type.STARTED)}),this.player.on("vpaid.AdStopped",function(){e.sendCallback(pgads.AdEvent.Type.CONTENT_RESUME_REQUESTED)}),this.player.on("vpaid.AdVideoFirstQuartile",function(){e.sendCallback(pgads.AdEvent.Type.FIRST_QUARTILE)}),this.player.on("vpaid.AdVideoMidpoint",function(){e.sendCallback(pgads.AdEvent.Type.MIDPOINT)}),this.player.on("vpaid.AdVideoThirdQuartile",function(){e.sendCallback(pgads.AdEvent.Type.THIRD_QUARTILE)}),this.player.on("vpaid.AdVideoComplete",function(){e.adCompleted=!0,e.sendCallback(pgads.AdEvent.Type.COMPLETE)}),this.player.on("vpaid.AdPaused",function(){e.adPaused=!0,e.sendCallback(pgads.AdEvent.Type.PAUSED)}),this.player.on("vast.adError",function(t){e.sendCallback(pgads.AdEvent.Type.AD_ERROR)}),this.player.on("vast.adStart",function(){this.vast.vastResponse,e.vastResponse=this.vast.vastResponse,this.vast.vastResponse.ads,e.adPodInfo=this.vast.vastResponse.ads,e.sendCallback(pgads.AdEvent.Type.STARTED)}),this.player.on("vast.adSkip",function(){e.sendCallback(pgads.AdEvent.Type.SKIPPED)}),this.player.on("vast.adEnd",function(){e.adCompleted=!0,e.sendCallback(pgads.AdEvent.Type.COMPLETE),e.sendCallback(pgads.AdEvent.Type.CONTENT_RESUME_REQUESTED)}),this.player.on("timeupdate",function(){if(void 0!==e.vastResponse&&!e.isVPAID()){var t=this.currentTime()/this.duration()*100;switch(e.currentQuartileToBeSend){case pgads.PGVideoAdQuartile.PGVideoAdQuartileFirst:t>25&&(e.sendCallback(pgads.AdEvent.Type.FIRST_QUARTILE),e.currentQuartileToBeSend=pgads.PGVideoAdQuartile.PGVideoAdQuartileSecond);break;case pgads.PGVideoAdQuartile.PGVideoAdQuartileSecond:t>50&&(e.sendCallback(pgads.AdEvent.Type.MIDPOINT),e.currentQuartileToBeSend=pgads.PGVideoAdQuartile.PGVideoAdQuartileThird);break;case pgads.PGVideoAdQuartile.PGVideoAdQuartileThird:t>75&&(e.sendCallback(pgads.AdEvent.Type.THIRD_QUARTILE),e.currentQuartileToBeSend=pgads.PGVideoAdQuartile.PGVideoAdQuartileFourth);break;case pgads.PGVideoAdQuartile.PGVideoAdQuartileFourth:t>=100&&this.off("timeupdate")}}}),this.sendCallback=function(t){for(var e=new pgads.AdEventInfo(t,this),i=pgads.getEventsCallbacks(this.adsManagerLoaderEvents,t),n=i.length-1;n>=0;n--)!function(t){i[t](e)}(n)},this.isVPAID=function(){var t,e,i=this.vastResponse.mediaFiles;for(t=0,e=i.length;t<e;t++)if(i[t].type===pgads.AdType.VPAID)return!0;return!1}},pgads.getEventsCallbacks=function(t,e){for(var i=[],n=t.length-1;n>=0;n--)object=t[n],object.key==e&&i.push(object.value);return i},pgads.getEventsCallback=function(t,e){for(var i=t.length-1;i>=0;i--)if(object=t[i],object.key==e)return object.value},pgads.AdsLoader=function(t,e){this.player=e,this.adsLoaderEvents=[],selfAdsLoader=this,this.pgadPluginOpts,this.requestAds=function(t){function e(e){setTimeout(function(){e(null,t.adsResponse)},0)}void 0!==t.adTagUrl?this.pgadPluginOpts={adCancelTimeout:2e4,adsEnabled:!0,autoResize:!0,verbosity:4,adTagUrl:t.adTagUrl}:void 0!==t.adsResponse&&(this.pgadPluginOpts={adCancelTimeout:2e4,adsEnabled:!0,autoResize:!0,verbosity:4,adTagXML:e});this.player.vastClient(this.pgadPluginOpts);pgads.getEventsCallback(this.adsLoaderEvents,pgads.AdEvent.Type.ADS_MANAGER_LOADED)()},this.contentComplete=function(){},this.addEventListener=function(t,e,i){this.adsLoaderEvents.push({key:t,value:e})}},pgads.AdDisplayContainer=function(t,e,i){this.adContainerDiv=t,this.contentPlayer=i,this.adContainerTopDiv=e,this.initialize=function(){}},function(t){"use strict";var e=function(t){var e,i,n;for(i=1;i<arguments.length;i++){e=arguments[i];for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}return t},i={debug:!1,timeout:5e3,prerollTimeout:100,adLabel:"",showControlsForJSAds:!0},n=function(t,e){this.pgads=new r(this,t,e)},r=function(t,n,r){this.player=t;var a=function(t,e){t.id=this.controlPrefix+e,t.className=this.controlPrefix+e+" "+e}.bind(this),s=function(t){return new RegExp("\\b"+t+"\\b","gi")},o=function(t,e){return s(e).test(t.className)?t:t.className=t.className.trim()+" "+e},l=function(t,e){var i=s(e);return i.test(t.className)?t.className=t.className.trim().replace(i,""):t},d=function(){this.vjsControls=this.player.getChild("controlBar"),this.adContainerDiv=this.vjsControls.el().parentNode.appendChild(document.createElement("div")),a(this.adContainerDiv,"pg-ad-container-bottom"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerTopDiv=this.vjsControls.el().parentNode.appendChild(document.createElement("div")),a(this.adContainerTopDiv,"pg-ad-container-top"),this.adContainerTopDiv.style.position="absolute",this.adContainerTopDiv.style.zIndex=1111,u(),this.adDisplayContainer=new pgads.AdDisplayContainer(this.adContainerDiv,this.adContainerTopDiv,this.contentPlayer)}.bind(this),u=function(){this.controlsDiv=document.createElement("div"),a(this.controlsDiv,"pg-controls-div"),this.controlsDiv.style.width="100%",this.controlsTopDiv=document.createElement("div"),a(this.controlsTopDiv,"pg-top-controls-div"),this.controlsTopDiv.style.width="100%",this.countdownDiv=document.createElement("div"),a(this.countdownDiv,"pg-countdown-div"),this.countdownDiv.innerHTML=this.settings.adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none",this.playPauseDiv=document.createElement("div"),a(this.playPauseDiv,"pg-play-pause-div"),o(this.playPauseDiv,"pg-playing"),this.playPauseDiv.addEventListener("click",E,!1),this.muteDiv=document.createElement("div"),a(this.muteDiv,"pg-mute-div"),o(this.muteDiv,"pg-non-muted"),this.muteDiv.addEventListener("click",b,!1),this.seekBarDiv=document.createElement("div"),a(this.seekBarDiv,"pg-seek-bar-div"),this.seekBarDiv.style.width="100%",this.progressDiv=document.createElement("div"),a(this.progressDiv,"pg-progress-div"),this.sliderDiv=document.createElement("div"),a(this.sliderDiv,"pg-slider-div"),this.sliderDiv.addEventListener("mousedown",w,!1),this.sliderLevelDiv=document.createElement("div"),a(this.sliderLevelDiv,"pg-slider-level-div"),this.learnMoreDiv=document.createElement("div"),a(this.learnMoreDiv,"pg-learnmore-div"),this.learnMoreDiv.innerHTML="Learn More",this.learnMoreDiv.addEventListener("click",D,!1),this.fullscreenDiv=document.createElement("div"),a(this.fullscreenDiv,"pg-fullscreen-div"),o(this.fullscreenDiv,"pg-non-fullscreen"),this.fullscreenDiv.addEventListener("click",S,!1),this.adContainerDiv.appendChild(this.controlsDiv),this.adContainerDiv.appendChild(this.seekBarDiv),this.adContainerTopDiv.appendChild(this.controlsTopDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsTopDiv.appendChild(this.learnMoreDiv),this.controlsTopDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)}.bind(this);this.initializeAdDisplayContainer=function(){this.adDisplayContainerInitialized=!0,this.adDisplayContainer.initialize()}.bind(this),this.requestAds=function(){this.adDisplayContainerInitialized||this.adDisplayContainer.initialize();var t=new pgads.AdsRequest;this.settings.adTagUrl?t.adTagUrl=this.settings.adTagUrl:t.adsResponse=this.settings.adsResponse,this.settings.forceNonLinearFullSlot&&(t.forceNonLinearFullSlot=!0),t.linearAdSlotWidth=this.getPlayerWidth(),t.linearAdSlotHeight=this.getPlayerHeight(),t.nonLinearAdSlotWidth=this.settings.nonLinearWidth||this.getPlayerWidth(),t.nonLinearAdSlotHeight=this.settings.nonLinearHeight||this.getPlayerHeight()/3,this.adsLoader.requestAds(t)}.bind(this);var c=function(){if(this.adsManager=new pgads.AdsManager(t),this.adsManager.addEventListener(pgads.AdEvent.Type.AD_ERROR,p),this.adsManager.addEventListener(pgads.AdEvent.Type.AD_BREAK_READY,f),this.adsManager.addEventListener(pgads.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested_),this.adsManager.addEventListener(pgads.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested_),this.adsManager.addEventListener(pgads.AdEvent.Type.ALL_ADS_COMPLETED,v),this.adsManager.addEventListener(pgads.AdEvent.Type.LOADED,g),this.adsManager.addEventListener(pgads.AdEvent.Type.STARTED,y),this.adsManager.addEventListener(pgads.AdEvent.Type.CLICK,E),this.adsManager.addEventListener(pgads.AdEvent.Type.COMPLETE,this.onAdComplete_),this.adsManager.addEventListener(pgads.AdEvent.Type.SKIPPED,this.onAdComplete_),this.adsManager.addEventListener(pgads.AdEvent.Type.PAUSED,this.onAdPaused_),this.adsManager.addEventListener(pgads.AdEvent.Type.AD_PLAYING,this.onAdPlaying_),!this.autoPlayAdBreaks)try{var e=this.getPlayerWidth(),i=this.getPlayerHeight();this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=i,this.adsManager.init(e,i,pgads.ViewMode.NORMAL),this.adsManager.setVolume(this.player.muted()?0:this.player.volume())}catch(t){p(t)}this.player.trigger("readyforpreroll");!!this.player.currentSrc()||this.player.play(),this.player.on("click",function(t){T(!0)})}.bind(this);this.start=function(){window.console.log("WARNING: player.pgads.start is deprecated. Use player.pgads.startFromReadyCallback instead.")},this.startFromReadyCallback=function(){if(this.autoPlayAdBreaks)try{this.adsManager.init(this.getPlayerWidth(),this.getPlayerHeight(),pgads.ViewMode.NORMAL),this.adsManager.setVolume(this.player.muted()?0:this.player.volume()),this.adsManager.start()}catch(t){this.onAdError_(t)}}.bind(this);var h=function(t){window.console.log("AdsLoader error: "+t.getError()),this.adContainerDiv.style.display="none",this.adContainerTopDiv.style.display="none",this.adsManager&&this.adsManager.destroy(),this.player.trigger({type:"adserror",data:{AdError:t.getError(),AdErrorEvent:t}})}.bind(this);this.onAdPaused_=function(t){1==this.adPauseDueToButtonClick?(this.adPauseDueToButtonClick=!1,T(!1)):(o(this.playPauseDiv,"pg-paused"),l(this.playPauseDiv,"pg-playing"),this.adPlaying=!1)}.bind(this),this.onAdPlaying_=function(t){T(!0),o(this.playPauseDiv,"pg-playing"),l(this.playPauseDiv,"pg-paused"),this.adPlaying=!0}.bind(this);var p=function(t){window.console.log("Ad error: "+t.getError()),this.vjsControls.show(),this.adsManager.destroy(),this.adContainerDiv.style.display="none",this.adContainerTopDiv.style.display="none",this.player.trigger({type:"adserror",data:{AdError:t.getError(),AdErrorEvent:t}})}.bind(this),f=function(t){this.adBreakReadyListener(t)}.bind(this);this.playAdBreak=function(){this.autoPlayAdBreaks||this.adsManager.start()}.bind(this),this.onContentPauseRequested_=function(t){this.adsActive=!0,this.adPlaying=!0,this.player.off("ended",this.localContentEndedListener),t.getAdPosition(),this.adContainerDiv.style.display="block",this.adContainerTopDiv.style.display="block",t.getContentType()!==pgads.AdType.VPAID||this.settings.showControlsForJSAds?this.controlsDiv.style.display="table":this.controlsDiv.style.display="none",this.vjsControls.hide(),this.player.pause()}.bind(this),this.onContentResumeRequested_=function(t){(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(T(!1),this.pauseAd(),this.adTrackingTimer=setInterval(A,250),l(this.adContainerDiv,"bumpable-pg-ad-container"),l(this.adContainerTopDiv,"bumpable-pg-ad-container"),this.currentAd.isLinear()),this.adsActive=!1,this.adPlaying=!1,this.player.on("ended",this.localContentEndedListener),(null==this.currentAd||this.currentAdEventInfo.isLinear())&&(this.player.currentSrc()?T(!0):m()),this.vjsControls.show(),!this.currentAd&&this.player.currentSrc()||!this.contentComplete&&-1!=t.getPodIndex()&&this.player.currentSrc(),this.countdownDiv.innerHTML=""}.bind(this);var v=function(t){if(this.allAdsCompleted=!0,1==this.contentComplete)for(var e in this.contentAndAdsEndedListeners)this.contentAndAdsEndedListeners[e]()}.bind(this),g=function(t){t.isLinear()||this.player.play()}.bind(this),y=function(t){this.currentAd=t.getAd(),this.currentAdEventInfo=t,t.getContentType()===pgads.AdType.VPAID&&(this.learnMoreDiv.innerHTML=""),this.player.muted()&&(o(this.muteDiv,"pg-muted"),l(this.muteDiv,"pg-non-muted"),this.adsManager.setVolume(0),this.player.muted(!0),this.adMuted=!0,this.sliderLevelDiv.style.width="0%"),t.isLinear()?(this.adTrackingTimer=setInterval(A,250),l(this.adContainerDiv,"bumpable-pg-ad-container"),l(this.adContainerTopDiv,"bumpable-pg-ad-container")):(o(this.adContainerDiv,"bumpable-pg-ad-container"),o(this.adContainerTopDiv,"bumpable-pg-ad-container")),this.adControlsTimer=setTimeout(m,5e3)}.bind(this);this.onAdComplete_=function(t){t.isLinear()&&clearInterval(this.adTrackingTimer)}.bind(this);var A=function(){var t=this.adsManager.getRemainingTime(),e=this.adsManager.getDuration(),i=e-t;i=i>0?i:0;var n,r=!1,a=0;this.currentAdEventInfo.getAd()&&(r=!0,n=this.currentAdEventInfo.getAdPosition(),a=this.currentAdEventInfo.getTotalAds());var s=Math.floor(t/60),o=Math.floor(t%60);o.toString().length<2&&(o="0"+o);var l=" ";r&&a>1&&(l=" ("+n+" of "+a+"): "),this.countdownDiv.innerHTML="NaN"==typeof o?this.settings.adLabel+l+"0:0":this.settings.adLabel+l+s+":"+o;var d=100*(i/e);this.progressDiv.style.width=d+"%"}.bind(this);this.getPlayerWidth=function(){return parseInt(getComputedStyle(this.player.el()).width,10)||this.player.width()}.bind(this),this.getPlayerHeight=function(){return parseInt(getComputedStyle(this.player.el()).height,10)||this.player.height()}.bind(this);var m=function(){this.adsManager.isVPAID()&&(this.adContainerDiv.style.display="none",this.adContainerTopDiv.style.display="none"),clearInterval(this.adControlsTimer)}.bind(this),T=function(t){this.adContainerDiv.style.display="block",this.adContainerTopDiv.style.display="block",clearInterval(this.adControlsTimer),t&&(this.adControlsTimer=setInterval(m,5e3))}.bind(this),E=function(){this.adPauseDueToButtonClick=!0,clearInterval(this.adControlsTimer),this.adPlaying?(o(this.playPauseDiv,"pg-paused"),l(this.playPauseDiv,"pg-playing"),this.adsManager.pause(),this.adPlaying=!1):(o(this.playPauseDiv,"pg-playing"),l(this.playPauseDiv,"pg-paused"),this.adsManager.resume(),this.adPlaying=!0)}.bind(this),b=function(){this.adMuted?(o(this.muteDiv,"pg-non-muted"),l(this.muteDiv,"pg-muted"),this.adsManager.setVolume(1),this.player.muted(!1),this.adMuted=!1,this.sliderLevelDiv.style.width=100*this.player.volume()+"%"):(o(this.muteDiv,"pg-muted"),l(this.muteDiv,"pg-non-muted"),this.adsManager.setVolume(0),this.player.muted(!0),this.adMuted=!0,this.sliderLevelDiv.style.width="0%")}.bind(this),w=function(){document.addEventListener("mouseup",_,!1),document.addEventListener("mousemove",k,!1)},k=function(t){C(t)},_=function(t){C(t),document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",_)},C=function(t){var e=(t.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;e*=100,e=Math.min(Math.max(e,0),100),this.sliderLevelDiv.style.width=e+"%",this.player.volume(e/100),this.adsManager.setVolume(e/100),0==this.player.volume()?(o(this.muteDiv,"pg-muted"),l(this.muteDiv,"pg-non-muted"),this.player.muted(!0),this.adMuted=!0):(o(this.muteDiv,"pg-non-muted"),l(this.muteDiv,"pg-muted"),this.player.muted(!1),this.adMuted=!1)}.bind(this),S=function(){this.player.isFullscreen()?this.player.exitFullscreen():this.player.requestFullscreen()}.bind(this),D=function(){window.open(this.adsManager.getClickThruUrl(),"_blank")}.bind(this),I=function(){this.player.isFullscreen()?(o(this.fullscreenDiv,"pg-fullscreen-view"),l(this.fullscreenDiv,"pg-non-fullscreen"),this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,pgads.ViewMode.FULLSCREEN)):(o(this.fullscreenDiv,"pg-non-fullscreen"),l(this.fullscreenDiv,"pg-fullscreen-view"),this.adsManager&&this.adsManager.resize(this.getPlayerWidth(),this.getPlayerHeight(),pgads.ViewMode.NORMAL))}.bind(this),L=function(){var t=this.player.muted()?0:this.player.volume();this.adsManager&&this.adsManager.setVolume(t),0==t?(this.adMuted=!0,o(this.muteDiv,"pg-muted"),l(this.muteDiv,"pg-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.adMuted=!1,o(this.muteDiv,"pg-non-muted"),l(this.muteDiv,"pg-muted"),this.sliderLevelDiv.style.width=100*t+"%")}.bind(this),P=function(){this.player.off("loadedmetadata",P),this.player.currentTime(0)}.bind(this),V=function(){this.player.off("loadedmetadata",V),this.player.currentTime(0),this.player.play()}.bind(this),M=function(){this.adsActive=!1,this.adPlaying=!1,this.player.on("ended",this.localContentEndedListener),this.currentAd&&this.currentAd.isLinear()&&(this.adContainerDiv.style.display="none",this.adContainerTopDiv.style.display="none"),this.vjsControls.show(),this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentComplete&&this.adsLoader.contentComplete(),this.contentComplete=!1,this.allAdsCompleted=!1}.bind(this);this.addEventListener=function(t,e){this.adsManager&&this.adsManager.addEventListener(t,e)}.bind(this),this.getAdsManager=function(){return this.adsManager}.bind(this),this.setContent=function(t,e,i){this.setContentWithAdTag(t,e,i)}.bind(this),this.setContentWithAdTag=function(t,e,i){M(),this.settings.adTagUrl=e||this.settings.adTagUrl,R(t,i)}.bind(this),this.setContentWithAdsResponse=function(t,e,i){M(),this.settings.adsResponse=e||this.settings.adsResponse,R(t,i)}.bind(this);var R=function(t,e){this.player.currentSrc()&&(this.player.currentTime(0),this.player.pause()),t&&this.player.src(t),e?this.player.on("loadedmetadata",V):this.player.on("loadedmetadata",P)}.bind(this);this.addContentEndedListener=function(t){this.contentEndedListeners.push(t)}.bind(this),this.addContentAndAdsEndedListener=function(t){this.contentAndAdsEndedListeners.push(t)}.bind(this),this.setAdBreakReadyListener=function(t){this.adBreakReadyListener=t}.bind(this),this.pauseAd=function(){this.adsActive&&this.adPlaying&&(o(this.playPauseDiv,"pg-paused"),l(this.playPauseDiv,"pg-playing"),this.adsManager.pause(),this.adPlaying=!1)}.bind(this),this.resumeAd=function(){this.adsActive&&!this.adPlaying&&(o(this.playPauseDiv,"pg-playing"),l(this.playPauseDiv,"pg-paused"),this.adsManager.resume(),this.adPlaying=!0)}.bind(this);var F=function(){this.updateTimeIntervalHandle=setInterval(U,this.seekCheckInterval),this.seekCheckIntervalHandle=setInterval(O,this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(x,this.resizeCheckInterval)}.bind(this),U=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.player.currentTime())}.bind(this),O=function(){var t=1e3*(this.player.currentTime()-this.contentPlayheadTracker.previousTime);Math.abs(t)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.player.currentTime()}.bind(this),x=function(){var t=this.getPlayerWidth(),e=this.getPlayerHeight();!this.adsManager||t==this.adsManagerDimensions.width&&e==this.adsManagerDimensions.height||(this.adsManagerDimensions.width=t,this.adsManagerDimensions.height=e,this.adsManager.resize(t,e,pgads.ViewMode.NORMAL))}.bind(this);if(this.setShowCountdown=function(t){this.showCountdown=t,this.countdownDiv.style.display=this.showCountdown?"block":"none"}.bind(this),this.VERSION="0.2.0",this.settings,this.controlPrefix,this.contentPlayer,this.showCountdown,this.autoPlayAdBreaks,this.vjsControls,this.adContainerDiv,this.controlsDiv,this.countdownDiv,this.seekBarDiv,this.progressDiv,this.playPauseDiv,this.muteDiv,this.sliderDiv,this.sliderLevelDiv,this.fullscreenDiv,this.adDisplayContainer,this.adDisplayContainerInitialized=!1,this.adsLoader,this.adsManager,this.adsRenderingSettings=null,this.adTagUrl,this.adsResponse,this.currentAd,this.contentTrackingTimer,this.adTrackingTimer,this.adControlsTimer,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.contentComplete=!1,this.allAdsCompleted=!1,this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.adsManagerDimensions={width:0,height:0},this.contentEndedListeners=[],this.contentAndAdsEndedListeners=[],this.adBreakReadyListener=void 0,this.adPauseDueToButtonClick=!1,this.localContentEndedListener=function(){this.adsLoader&&!this.contentComplete&&(this.adsLoader.contentComplete(),this.contentComplete=!0);for(var t in this.contentEndedListeners)this.contentEndedListeners[t]();if(this.allAdsCompleted)for(var t in this.contentAndAdsEndedListeners)this.contentAndAdsEndedListeners[t]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.player.el()&&this.player.one("play",F)}.bind(this),this.playerDisposedListener=function(){this.contentEndedListeners,this.contentAndAdsEndedListeners=[],this.contentComplete=!0,this.player.off("ended",this.localContentEndedListener);var t=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.adTrackingTimer,this.resizeCheckIntervalHandle];for(var e in t){var i=t[e];i&&clearInterval(i)}this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)}.bind(this),this.settings=e({},i,n||{}),this.settings.id){this.controlPrefix=this.settings.id+"_"||"",this.contentPlayer=document.getElementById(this.settings.id+"_html5_api"),this.showCountdown=!0,0==this.settings.showCountdown&&(this.showCountdown=!1),this.autoPlayAdBreaks=!0,0==this.settings.autoPlayAdBreaks&&(this.autoPlayAdBreaks=!1),t.one("play",F),t.on("ended",this.localContentEndedListener),t.on("dispose",this.playerDisposedListener);var N={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout};e({},N,n.contribAdsSettings||{});d(),this.adsLoader=new pgads.AdsLoader(this.adDisplayContainer,t),this.adsLoader.addEventListener(pgads.AdEvent.Type.ADS_MANAGER_LOADED,c,!1),this.adsLoader.addEventListener(pgads.AdEvent.Type.AD_ERROR,h,!1),r||(r=this.startFromReadyCallback),t.on("readyforpreroll",r),t.ready(function(){t.on("fullscreenchange",I),t.on("volumechange",L)})}else window.console.log("Error: must provide id of video.js div")};t.plugin("pgads",n)}(window.videojs);var Ads=function(){this.player=videojs("pg_content_video"),this.adResp="";var t=document.getElementById("pg_content_video_html5_api");(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&t.hasAttribute("controls")&&t.removeAttribute("controls");var e="click";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(e="touchend"),this.player.one(e,this.bind(this,this.init)),this.options={id:"pg_content_video"},this.events=[pgads.AdEvent.Type.ALL_ADS_COMPLETED,pgads.AdEvent.Type.CLICK,pgads.AdEvent.Type.COMPLETE,pgads.AdEvent.Type.FIRST_QUARTILE,pgads.AdEvent.Type.LOADED,pgads.AdEvent.Type.MIDPOINT,pgads.AdEvent.Type.PAUSED,pgads.AdEvent.Type.STARTED,pgads.AdEvent.Type.THIRD_QUARTILE,pgads.AdEvent.Type.STOPPED,pgads.AdEvent.Type.FULLSCREEN,pgads.AdEvent.Type.LOAD_META_DATA],this.console=document.getElementById("pg-sample-console"),this.player.pgads(this.options,this.bind(this,this.adsManagerLoadedCallback))};Ads.prototype.adsManagerLoadedCallback=function(){for(var t=0;t<this.events.length;t++)this.player.pgads.addEventListener(this.events[t],this.bind(this,this.onAdEvent));this.player.pgads.startFromReadyCallback()},Ads.prototype.onAdEvent=function(t){var e=navigator.userAgent;e.match(/iPhone/i)||e.match(/iPad/i)?e.match(/Safari/i)||(document.location.href="vpaidpgevent://"+t.type):e.match(/Android/i)&&(t.type==pgads.AdEvent.Type.CLICK?Android.showToast(t.type+"~"+t.getClickThruUrl()):Android.showToast(""+t.type)),this.log("Ad event: "+t.type)},Ads.prototype.executeVastXML=function(t,e,i){var n=t;if(""==t&&t.length<0)this.onAdEvent("VAST_EMPTY_RESPONSE_ERROR"),this.log("Error: please fill in an ad tag");else{this.player.pgads.initializeAdDisplayContainer(),this.player.pgads.setContentWithAdsResponse(null,n,!0),this.player.pgads.requestAds();var r=document.getElementsByClassName("video-js")[0];r.style.width=e,r.style.height=i}},Ads.prototype.executeVastTagUrl=function(t,e,i){if(""==this.tagUrl&&t.length>0)this.onAdEvent("VAST_INVALID_TAG_ERROR"),this.log("Error: please fill in an ad tag");else{this.player.pgads.initializeAdDisplayContainer(),this.player.pgads.setContentWithAdTag(null,t,!0),this.player.pgads.requestAds();var n=document.getElementsByClassName("video-js")[0];n.style.width=e,n.style.height=i}},Ads.prototype.log=function(t){},Ads.prototype.bind=function(t,e){return function(){e.apply(t,arguments)}};